{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}},{"name":"expo-file-system","data":{"isAsync":false}},{"name":"expo-crypto","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _extends2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/extends\"));\n\n  var _regenerator = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"@babel/runtime/regenerator\"));\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"@babel/runtime/helpers/createClass\"));\n\n  var _inherits2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"@babel/runtime/helpers/inherits\"));\n\n  var _possibleConstructorReturn2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[7], \"@babel/runtime/helpers/possibleConstructorReturn\"));\n\n  var _getPrototypeOf2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[8], \"@babel/runtime/helpers/getPrototypeOf\"));\n\n  var _react = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[9], \"react\"));\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[10], \"react-native\");\n\n  var FileSystem = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[11], \"expo-file-system\"));\n\n  var Crypto = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[12], \"expo-crypto\"));\n\n  var _jsxFileName = \"/home/iyiola/Documents/PROJECTS/gocreate/node_modules/react-native-expo-cached-image/index.js\";\n\n  function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\n  function _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n  var CachedImage = function (_Component) {\n    (0, _inherits2.default)(CachedImage, _Component);\n\n    var _super = _createSuper(CachedImage);\n\n    function CachedImage() {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, CachedImage);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this.state = {\n        imgURI: ''\n      };\n      return _this;\n    }\n\n    (0, _createClass2.default)(CachedImage, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var filesystemURI;\n        return _regenerator.default.async(function componentDidMount$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.props.source.uri) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 3;\n                return _regenerator.default.awrap(this.getImageFilesystemKey(this.props.source.uri));\n\n              case 3:\n                filesystemURI = _context.sent;\n                _context.next = 6;\n                return _regenerator.default.awrap(this.loadImage(filesystemURI, this.props.source.uri));\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, this, null, Promise);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        var filesystemURI;\n        return _regenerator.default.async(function componentDidUpdate$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.props.source.uri) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 3;\n                return _regenerator.default.awrap(this.getImageFilesystemKey(this.props.source.uri));\n\n              case 3:\n                filesystemURI = _context2.sent;\n\n                if (!(this.props.source.uri === this.state.imgURI || filesystemURI === this.state.imgURI)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", null);\n\n              case 6:\n                _context2.next = 8;\n                return _regenerator.default.awrap(this.loadImage(filesystemURI, this.props.source.uri));\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, this, null, Promise);\n      }\n    }, {\n      key: \"getImageFilesystemKey\",\n      value: function getImageFilesystemKey(remoteURI) {\n        var hashed;\n        return _regenerator.default.async(function getImageFilesystemKey$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _regenerator.default.awrap(Crypto.digestStringAsync(Crypto.CryptoDigestAlgorithm.SHA256, remoteURI));\n\n              case 2:\n                hashed = _context3.sent;\n                return _context3.abrupt(\"return\", \"\" + FileSystem.cacheDirectory + hashed);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    }, {\n      key: \"loadImage\",\n      value: function loadImage(filesystemURI, remoteURI) {\n        var metadata, imageObject;\n        return _regenerator.default.async(function loadImage$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.prev = 0;\n                _context4.next = 3;\n                return _regenerator.default.awrap(FileSystem.getInfoAsync(filesystemURI));\n\n              case 3:\n                metadata = _context4.sent;\n\n                if (!metadata.exists) {\n                  _context4.next = 7;\n                  break;\n                }\n\n                this.setState({\n                  imgURI: filesystemURI\n                });\n                return _context4.abrupt(\"return\");\n\n              case 7:\n                _context4.next = 9;\n                return _regenerator.default.awrap(FileSystem.downloadAsync(remoteURI, filesystemURI));\n\n              case 9:\n                imageObject = _context4.sent;\n                this.setState({\n                  imgURI: imageObject.uri\n                });\n                _context4.next = 17;\n                break;\n\n              case 13:\n                _context4.prev = 13;\n                _context4.t0 = _context4[\"catch\"](0);\n                console.log('Image loading error:', _context4.t0);\n                this.setState({\n                  imgURI: remoteURI\n                });\n\n              case 17:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, null, this, [[0, 13]], Promise);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var source = this.state.imgURI ? {\n          uri: this.state.imgURI\n        } : null;\n\n        if (!source && this.props.source) {\n          source = this.props.source;\n        }\n\n        if (this.props.isBackground) {\n          return _react.default.createElement(_reactNative.ImageBackground, (0, _extends2.default)({}, this.props, {\n            source: source,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 9\n            }\n          }), this.props.children);\n        } else {\n          return _react.default.createElement(_reactNative.Image, (0, _extends2.default)({}, this.props, {\n            source: source,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 9\n            }\n          }));\n        }\n      }\n    }]);\n    return CachedImage;\n  }(_react.Component);\n\n  exports.default = CachedImage;\n});","lineCount":235,"map":[[25,0,1,0],[27,0,2,0],[29,0,3,0],[31,0,4,0],[39,6,6,21,"CachedImage"],[39,17],[54,12,7,2,"state"],[54,17],[54,20,7,10],[55,0,8,4,"imgURI"],[55,8,8,4,"imgURI"],[55,14,8,10],[55,16,8,12],[56,0,7,10],[56,7],[68,21,12,8],[68,26,12,13,"props"],[68,31,12,8],[68,32,12,19,"source"],[68,38,12,8],[68,39,12,26,"uri"],[68,42],[74,50,13,34],[74,55,13,39,"getImageFilesystemKey"],[74,76,13,34],[74,77,13,61],[74,82,13,66,"props"],[74,87,13,61],[74,88,13,72,"source"],[74,94,13,61],[74,95,13,79,"uri"],[74,98,13,34],[74,99],[77,0,13,12,"filesystemURI"],[77,16,13,12,"filesystemURI"],[77,29],[79,50,14,12],[79,55,14,17,"loadImage"],[79,64,14,12],[79,65,14,27,"filesystemURI"],[79,78,14,12],[79,80,14,42],[79,85,14,47,"props"],[79,90,14,42],[79,91,14,53,"source"],[79,97,14,42],[79,98,14,60,"uri"],[79,101,14,12],[79,102],[96,21,19,8],[96,26,19,13,"props"],[96,31,19,8],[96,32,19,19,"source"],[96,38,19,8],[96,39,19,26,"uri"],[96,42],[102,50,20,34],[102,55,20,39,"getImageFilesystemKey"],[102,76,20,34],[102,77,20,61],[102,82,20,66,"props"],[102,87,20,61],[102,88,20,72,"source"],[102,94,20,61],[102,95,20,79,"uri"],[102,98,20,34],[102,99],[105,0,20,12,"filesystemURI"],[105,16,20,12,"filesystemURI"],[105,29],[107,22,21,10],[107,27,21,15,"props"],[107,32,21,10],[107,33,21,21,"source"],[107,39,21,10],[107,40,21,28,"uri"],[107,43,21,10],[107,48,21,36],[107,53,21,41,"state"],[107,58,21,36],[107,59,21,47,"imgURI"],[107,65,21,10],[107,69,22,8,"filesystemURI"],[107,82,22,21],[107,87,22,26],[107,92,22,31,"state"],[107,97,22,26],[107,98,22,37,"imgURI"],[107,104],[112,50,23,15],[112,54],[116,50,25,12],[116,55,25,17,"loadImage"],[116,64,25,12],[116,65,25,27,"filesystemURI"],[116,78,25,12],[116,80,25,42],[116,85,25,47,"props"],[116,90,25,42],[116,91,25,53,"source"],[116,97,25,42],[116,98,25,60,"uri"],[116,101,25,12],[116,102],[127,44,29,30,"remoteURI"],[127,53],[134,50,30,25,"Crypto"],[134,56,30,31],[134,57,30,32,"digestStringAsync"],[134,74,30,25],[134,75,31,6,"Crypto"],[134,81,31,12],[134,82,31,13,"CryptoDigestAlgorithm"],[134,103,31,6],[134,104,31,35,"SHA256"],[134,110,30,25],[134,112,32,6,"remoteURI"],[134,121,30,25],[134,122],[137,0,30,10,"hashed"],[137,16,30,10,"hashed"],[137,22],[138,55,34,14,"FileSystem"],[138,65,34,24],[138,66,34,25,"cacheDirectory"],[138,80],[138,83,34,42,"hashed"],[138,89],[149,32,37,18,"filesystemURI"],[149,45],[149,47,37,33,"remoteURI"],[149,56],[157,50,40,29,"FileSystem"],[157,60,40,39],[157,61,40,40,"getInfoAsync"],[157,73,40,29],[157,74,40,53,"filesystemURI"],[157,87,40,29],[157,88],[160,0,40,12,"metadata"],[160,16,40,12,"metadata"],[160,24],[162,21,41,10,"metadata"],[162,29,41,18],[162,30,41,19,"exists"],[162,36],[167,0,42,8],[167,21,42,13,"setState"],[167,29,42,8],[167,30,42,22],[168,0,43,10,"imgURI"],[168,18,43,10,"imgURI"],[168,24,43,16],[168,26,43,18,"filesystemURI"],[169,0,42,22],[169,17,42,8],[174,50,49,32,"FileSystem"],[174,60,49,42],[174,61,49,43,"downloadAsync"],[174,74,49,32],[174,75,50,8,"remoteURI"],[174,84,49,32],[174,86,51,8,"filesystemURI"],[174,99,49,32],[174,100],[177,0,49,12,"imageObject"],[177,16,49,12,"imageObject"],[177,27],[178,0,53,6],[178,21,53,11,"setState"],[178,29,53,6],[178,30,53,20],[179,0,54,8,"imgURI"],[179,18,54,8,"imgURI"],[179,24,54,14],[179,26,54,16,"imageObject"],[179,37,54,27],[179,38,54,28,"uri"],[180,0,53,20],[180,17,53,6],[187,0,57,6,"console"],[187,16,57,6,"console"],[187,23,57,13],[187,24,57,14,"log"],[187,27,57,6],[187,28,57,18],[187,50,57,6],[188,0,58,6],[188,21,58,11,"setState"],[188,29,58,6],[188,30,58,20],[189,0,58,21,"imgURI"],[189,18,58,21,"imgURI"],[189,24,58,27],[189,26,58,29,"remoteURI"],[190,0,58,20],[190,17,58,6],[201,31,62,11],[202,0,63,4],[202,12,63,8,"source"],[202,18,63,14],[202,21,63,17],[202,26,63,22,"state"],[202,31,63,17],[202,32,63,28,"imgURI"],[202,38,63,17],[202,41,63,37],[203,0,63,38,"uri"],[203,10,63,38,"uri"],[203,13,63,41],[203,15,63,43],[203,20,63,48,"state"],[203,25,63,43],[203,26,63,54,"imgURI"],[204,0,63,37],[204,9,63,17],[204,12,63,64],[204,16,63,4],[206,0,64,4],[206,12,64,8],[206,13,64,9,"source"],[206,19,64,8],[206,23,64,19],[206,28,64,24,"props"],[206,33,64,19],[206,34,64,30,"source"],[206,40,64,4],[206,42,64,38],[207,0,65,6,"source"],[207,10,65,6,"source"],[207,16,65,12],[207,19,65,14],[207,24,65,19,"props"],[207,29,65,14],[207,30,65,25,"source"],[207,36,65,6],[208,0,66,5],[210,0,67,4],[210,12,67,8],[210,17,67,13,"props"],[210,22,67,8],[210,23,67,19,"isBackground"],[210,35,67,4],[210,37,67,33],[211,0,68,6],[211,17,69,8],[211,46,69,9],[211,74,69,8],[211,103,70,14],[211,108,70,19,"props"],[211,113,69,8],[212,0,71,10],[212,12,71,10],[212,18,71,16],[212,20,71,18,"source"],[212,26,69,8],[213,0,69,8],[214,0,69,8],[215,0,69,8],[216,0,69,8],[217,0,69,8],[218,0,69,8],[218,14,73,11],[218,19,73,16,"props"],[218,24,73,11],[218,25,73,22,"children"],[218,33,69,8],[218,34,68,6],[219,0,75,5],[219,9,67,4],[219,15,75,11],[220,0,76,6],[220,17,77,8],[220,46,77,9],[220,64,77,8],[220,93,78,14],[220,98,78,19,"props"],[220,103,77,8],[221,0,79,10],[221,12,79,10],[221,18,79,16],[221,20,79,18,"source"],[221,26,77,8],[222,0,77,8],[223,0,77,8],[224,0,77,8],[225,0,77,8],[226,0,77,8],[227,0,77,8],[227,13,76,6],[228,0,82,5],[229,0,83,3],[232,4,6,41,"Component"],[232,20]],"functionMap":{"names":["<global>","CachedImage","CachedImage#componentDidMount","CachedImage#componentDidUpdate","CachedImage#getImageFilesystemKey","CachedImage#loadImage","CachedImage#render"],"mappings":"AAA;eCK;ECK;GDK;EEE;GFS;EGE;GHM;EIE;GJuB;EKE;GLqB;CDC"}},"type":"js/module"}]}