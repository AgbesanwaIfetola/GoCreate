{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        dispatch(saveToken(token));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":116,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"getUserToken"],[17,4,8,2,"getUserToken"],[17,16,8,14],[17,18,8,2,"getUserToken"],[17,30,6,27],[18,0,9,2,"saveUserToken"],[18,4,9,2,"saveUserToken"],[18,17,9,15],[18,19,9,2,"saveUserToken"],[18,32,6,27],[19,0,10,2,"deleteUserToken"],[19,4,10,2,"deleteUserToken"],[19,19,10,17],[19,21,10,2,"deleteUserToken"],[19,36,6,27],[20,0,11,2,"clearLoginErrors"],[20,4,11,2,"clearLoginErrors"],[20,20,11,18],[20,22,11,2,"clearLoginErrors"],[21,0,6,27],[21,3,6,7],[24,0,15,0],[24,11,15,9,"login"],[24,16,15,0],[24,17,15,15,"username"],[24,25,15,0],[24,27,15,25,"password"],[24,35,15,0],[24,37,15,35],[25,0,16,2],[25,11,16,9],[25,21,16,10,"dispatch"],[25,29,16,9],[25,31,16,23],[26,0,17,4,"dispatch"],[26,6,17,4,"dispatch"],[26,14,17,12],[26,15,17,13,"request"],[26,22,17,20],[26,23,17,21,"username"],[26,31,17,20],[26,32,17,12],[26,33,17,4],[28,0,19,4,"authService"],[28,24,20,7,"login"],[28,29,19,4],[28,30,20,13,"username"],[28,38,19,4],[28,40,20,23,"password"],[28,48,19,4],[28,50,21,7,"then"],[28,54,19,4],[28,55,21,12],[28,65,21,13,"res"],[28,68,21,12],[28,70,21,21],[29,0,23,8],[29,12,23,11,"res"],[29,15,23,14],[29,16,23,15,"status"],[29,22,23,11],[29,26,23,25],[29,29,23,8],[29,31,23,29],[30,0,25,10,"dispatch"],[30,10,25,10,"dispatch"],[30,18,25,18],[30,19,25,19,"success"],[30,26,25,26],[30,27,25,27,"res"],[30,30,25,30],[30,31,25,31,"data"],[30,35,25,27],[30,36,25,36,"token"],[30,41,25,26],[30,42,25,18],[30,43,25,10],[31,0,26,10,"dispatch"],[31,10,26,10,"dispatch"],[31,18,26,18],[31,19,26,19,"saveUserToken"],[31,32,26,32],[31,33,26,33,"res"],[31,36,26,36],[31,37,26,37,"data"],[31,41,26,33],[31,42,26,42,"token"],[31,47,26,32],[31,48,26,18],[31,49,26,10],[32,0,27,9],[32,9,23,8],[32,15,27,14],[33,0,28,10,"dispatch"],[33,10,28,10,"dispatch"],[33,18,28,18],[33,19,28,19,"failure"],[33,26,28,26],[33,27,28,27,"res"],[33,30,28,30],[33,31,28,31,"error"],[33,36,28,26],[33,37,28,18],[33,38,28,10],[34,0,29,9],[35,0,32,7],[35,7,19,4],[36,0,34,3],[36,5,16,2],[38,0,36,2],[38,13,36,11,"request"],[38,20,36,2],[38,21,36,19,"user"],[38,25,36,2],[38,27,36,25],[39,0,37,4],[39,13,37,11],[40,0,37,13,"type"],[40,8,37,13,"type"],[40,12,37,17],[40,14,37,19,"authConstants"],[40,43,37,33,"LOGIN_REQUEST"],[41,0,37,11],[41,7,37,4],[42,0,38,3],[44,0,39,2],[44,13,39,11,"success"],[44,20,39,2],[44,21,39,19,"token"],[44,26,39,2],[44,28,39,26],[45,0,40,4],[45,13,40,11],[46,0,40,13,"type"],[46,8,40,13,"type"],[46,12,40,17],[46,14,40,19,"authConstants"],[46,43,40,33,"LOGIN_SUCCESS"],[46,56,40,11],[47,0,40,48,"token"],[47,8,40,48,"token"],[47,13,40,53],[47,15,40,48,"token"],[48,0,40,11],[48,7,40,4],[49,0,41,3],[51,0,42,2],[51,13,42,11,"failure"],[51,20,42,2],[51,21,42,19,"error"],[51,26,42,2],[51,28,42,26],[52,0,43,4],[52,13,43,11],[53,0,43,13,"type"],[53,8,43,13,"type"],[53,12,43,17],[53,14,43,19,"authConstants"],[53,43,43,33,"LOGIN_FAILURE"],[53,56,43,11],[54,0,43,48,"error"],[54,8,43,48,"error"],[54,13,43,53],[54,15,43,48,"error"],[55,0,43,11],[55,7,43,4],[56,0,44,3],[58,0,45,2],[58,13,45,11,"saveToken"],[58,22,45,2],[58,25,45,23],[59,0,46,4],[59,13,46,11],[60,0,46,13,"type"],[60,8,46,13,"type"],[60,12,46,17],[60,14,46,19,"authConstants"],[60,43,46,33,"SAVE_TOKEN"],[61,0,46,11],[61,7,46,4],[62,0,47,3],[63,0,48,1],[65,0,50,0],[65,11,50,9,"getUserToken"],[65,23,50,0],[65,26,50,24],[66,0,51,2],[66,11,51,9],[66,21,51,10,"dispatch"],[66,29,51,9],[66,31,51,23],[67,0,52,4,"authService"],[67,24,53,7,"getItem"],[67,31,52,4],[67,32,53,15],[67,39,52,4],[67,41,54,7,"then"],[67,45,52,4],[67,46,54,12],[67,56,54,13,"value"],[67,61,54,12],[67,63,54,23],[68,0,55,8,"dispatch"],[68,8,55,8,"dispatch"],[68,16,55,16],[68,17,55,17,"getToken"],[68,25,55,25],[68,26,55,26,"value"],[68,31,55,25],[68,32,55,16],[68,33,55,8],[69,0,56,7],[69,7,52,4],[69,9,57,7,"catch"],[69,14,52,4],[69,15,57,13],[69,25,57,14,"err"],[69,28,57,13],[69,30,57,22],[70,0,58,8,"console"],[70,8,58,8,"console"],[70,15,58,15],[70,16,58,16,"log"],[70,19,58,8],[70,20,58,20,"err"],[70,23,58,8],[71,0,59,7],[71,7,52,4],[72,0,60,3],[72,5,51,2],[74,0,62,2],[74,13,62,11,"getToken"],[74,21,62,2],[74,22,62,20,"token"],[74,27,62,2],[74,29,62,27],[75,0,63,4],[75,13,63,11],[76,0,63,13,"type"],[76,8,63,13,"type"],[76,12,63,17],[76,14,63,19,"authConstants"],[76,43,63,33,"GET_TOKEN"],[76,52,63,11],[77,0,63,44,"token"],[77,8,63,44,"token"],[77,13,63,49],[77,15,63,44,"token"],[78,0,63,11],[78,7,63,4],[79,0,64,3],[80,0,65,1],[82,0,67,0],[82,11,67,9,"saveUserToken"],[82,24,67,0],[82,25,67,23,"token"],[82,30,67,0],[82,32,67,30],[83,0,68,2],[83,11,68,9],[83,21,68,10,"dispatch"],[83,29,68,9],[83,31,68,23],[84,0,69,4,"authService"],[84,24,69,16,"saveItem"],[84,32,69,4],[84,33,69,25],[84,40,69,4],[84,42,69,34,"token"],[84,47,69,4],[84,49,69,41,"then"],[84,53,69,4],[84,54,69,46],[84,64,69,47,"token"],[84,69,69,46],[84,71,69,57],[85,0,71,6,"dispatch"],[85,8,71,6,"dispatch"],[85,16,71,14],[85,17,71,15,"saveToken"],[85,26,71,24],[85,27,71,25,"token"],[85,32,71,24],[85,33,71,14],[85,34,71,6],[86,0,72,5],[86,7,69,4],[87,0,73,3],[87,5,68,2],[89,0,75,2],[89,13,75,11,"saveToken"],[89,22,75,2],[89,23,75,21,"token"],[89,28,75,2],[89,30,75,28],[90,0,76,4],[90,13,76,11],[91,0,76,13,"type"],[91,8,76,13,"type"],[91,12,76,17],[91,14,76,19,"authConstants"],[91,43,76,33,"SAVE_TOKEN"],[91,53,76,11],[92,0,76,45,"token"],[92,8,76,45,"token"],[92,13,76,50],[92,15,76,45,"token"],[93,0,76,11],[93,7,76,4],[94,0,77,3],[95,0,78,1],[97,0,82,0],[97,11,82,9,"deleteUserToken"],[97,26,82,0],[97,29,82,27],[98,0,83,2],[98,11,83,9],[98,21,83,10,"dispatch"],[98,29,83,9],[98,31,83,23],[99,0,84,4,"authService"],[99,24,84,16,"deleteItem"],[99,34,84,4],[99,35,84,27],[99,42,84,4],[99,44,84,36,"then"],[99,48,84,4],[99,49,84,41],[99,59,84,42,"value"],[99,64,84,41],[99,66,84,52],[100,0,85,6,"dispatch"],[100,8,85,6,"dispatch"],[100,16,85,14],[100,17,85,15,"deleteToken"],[100,28,85,26],[100,30,85,14],[100,31,85,6],[101,0,86,5],[101,7,84,4],[102,0,87,3],[102,5,83,2],[104,0,89,2],[104,13,89,11,"deleteToken"],[104,24,89,2],[104,27,89,25],[105,0,90,4],[105,13,90,11],[106,0,90,13,"type"],[106,8,90,13,"type"],[106,12,90,17],[106,14,90,19,"authConstants"],[106,43,90,33,"DELETE_TOKEN"],[107,0,90,11],[107,7,90,4],[108,0,91,3],[109,0,92,1],[111,0,94,0],[111,11,94,9,"clearLoginErrors"],[111,27,94,0],[111,30,94,28],[112,0,95,2],[112,11,95,9],[113,0,96,4,"type"],[113,6,96,4,"type"],[113,10,96,8],[113,12,96,10,"authConstants"],[113,41,96,24,"CLEAR_LOGIN_ERRORS"],[114,0,95,9],[114,5,95,2],[115,0,98,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACc;SCC;YCK;ODW;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOG;OPE;aQC;ORE;GMC;EGE;GHE;CRC;AYE;SVC;8CWC;KXG;GUC;ELE;GKE;CZC;AcI;SZC;yCaC;KbE;GYC;EEE;GFE;CdC;AiBE;CjBI"}},"type":"js/module"}]}