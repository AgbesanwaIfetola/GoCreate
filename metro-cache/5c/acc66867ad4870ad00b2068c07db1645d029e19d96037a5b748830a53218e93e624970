{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    resetPassword: resetPassword,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors,\n    clearToastMessage: clearToastMessage\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function resetPassword(email) {\n    return function (dispatch) {\n      dispatch(request(email));\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 200) {\n          console.log(\"email sent\");\n          dispatch(success(\"Your reset link has been sent to \" + email));\n        } else {\n          console.log(\"reset failed\");\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_FAILURE\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        console.log(\"saved in memory\");\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n\n  function clearToastMessage() {\n    return {\n      type: _authConstants.authConstants.CLEAR_TOAST\n    };\n  }\n});","lineCount":159,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"resetPassword"],[17,4,8,2,"resetPassword"],[17,17,8,15],[17,19,8,2,"resetPassword"],[17,32,6,27],[18,0,9,2,"getUserToken"],[18,4,9,2,"getUserToken"],[18,16,9,14],[18,18,9,2,"getUserToken"],[18,30,6,27],[19,0,10,2,"saveUserToken"],[19,4,10,2,"saveUserToken"],[19,17,10,15],[19,19,10,2,"saveUserToken"],[19,32,6,27],[20,0,11,2,"deleteUserToken"],[20,4,11,2,"deleteUserToken"],[20,19,11,17],[20,21,11,2,"deleteUserToken"],[20,36,6,27],[21,0,12,2,"clearLoginErrors"],[21,4,12,2,"clearLoginErrors"],[21,20,12,18],[21,22,12,2,"clearLoginErrors"],[21,38,6,27],[22,0,13,2,"clearToastMessage"],[22,4,13,2,"clearToastMessage"],[22,21,13,19],[22,23,13,2,"clearToastMessage"],[23,0,6,27],[23,3,6,7],[26,0,18,0],[26,11,18,9,"login"],[26,16,18,0],[26,17,18,15,"username"],[26,25,18,0],[26,27,18,25,"password"],[26,35,18,0],[26,37,18,35],[27,0,19,2],[27,11,19,9],[27,21,19,10,"dispatch"],[27,29,19,9],[27,31,19,23],[28,0,20,4,"dispatch"],[28,6,20,4,"dispatch"],[28,14,20,12],[28,15,20,13,"request"],[28,22,20,20],[28,23,20,21,"username"],[28,31,20,20],[28,32,20,12],[28,33,20,4],[30,0,22,4,"authService"],[30,24,23,7,"login"],[30,29,22,4],[30,30,23,13,"username"],[30,38,22,4],[30,40,23,23,"password"],[30,48,22,4],[30,50,24,7,"then"],[30,54,22,4],[30,55,24,12],[30,65,24,13,"res"],[30,68,24,12],[30,70,24,21],[31,0,26,8],[31,12,26,11,"res"],[31,15,26,14],[31,16,26,15,"status"],[31,22,26,11],[31,26,26,25],[31,29,26,8],[31,31,26,29],[32,0,28,10,"dispatch"],[32,10,28,10,"dispatch"],[32,18,28,18],[32,19,28,19,"success"],[32,26,28,26],[32,27,28,27,"res"],[32,30,28,30],[32,31,28,31,"data"],[32,35,28,27],[32,36,28,36,"token"],[32,41,28,26],[32,42,28,18],[32,43,28,10],[33,0,29,10,"dispatch"],[33,10,29,10,"dispatch"],[33,18,29,18],[33,19,29,19,"saveUserToken"],[33,32,29,32],[33,33,29,33,"res"],[33,36,29,36],[33,37,29,37,"data"],[33,41,29,33],[33,42,29,42,"token"],[33,47,29,32],[33,48,29,18],[33,49,29,10],[34,0,30,9],[34,9,26,8],[34,15,30,14],[35,0,31,10,"dispatch"],[35,10,31,10,"dispatch"],[35,18,31,18],[35,19,31,19,"failure"],[35,26,31,26],[35,27,31,27,"res"],[35,30,31,30],[35,31,31,31,"error"],[35,36,31,26],[35,37,31,18],[35,38,31,10],[36,0,32,9],[37,0,35,7],[37,7,22,4],[38,0,37,3],[38,5,19,2],[40,0,39,2],[40,13,39,11,"request"],[40,20,39,2],[40,21,39,19,"user"],[40,25,39,2],[40,27,39,25],[41,0,40,4],[41,13,40,11],[42,0,40,13,"type"],[42,8,40,13,"type"],[42,12,40,17],[42,14,40,19,"authConstants"],[42,43,40,33,"LOGIN_REQUEST"],[43,0,40,11],[43,7,40,4],[44,0,41,3],[46,0,42,2],[46,13,42,11,"success"],[46,20,42,2],[46,21,42,19,"token"],[46,26,42,2],[46,28,42,26],[47,0,43,4],[47,13,43,11],[48,0,43,13,"type"],[48,8,43,13,"type"],[48,12,43,17],[48,14,43,19,"authConstants"],[48,43,43,33,"LOGIN_SUCCESS"],[48,56,43,11],[49,0,43,48,"token"],[49,8,43,48,"token"],[49,13,43,53],[49,15,43,48,"token"],[50,0,43,11],[50,7,43,4],[51,0,44,3],[53,0,45,2],[53,13,45,11,"failure"],[53,20,45,2],[53,21,45,19,"error"],[53,26,45,2],[53,28,45,26],[54,0,46,4],[54,13,46,11],[55,0,46,13,"type"],[55,8,46,13,"type"],[55,12,46,17],[55,14,46,19,"authConstants"],[55,43,46,33,"LOGIN_FAILURE"],[55,56,46,11],[56,0,46,48,"error"],[56,8,46,48,"error"],[56,13,46,53],[56,15,46,48,"error"],[57,0,46,11],[57,7,46,4],[58,0,47,3],[60,0,48,2],[60,13,48,11,"saveToken"],[60,22,48,2],[60,25,48,23],[61,0,49,4],[61,13,49,11],[62,0,49,13,"type"],[62,8,49,13,"type"],[62,12,49,17],[62,14,49,19,"authConstants"],[62,43,49,33,"SAVE_TOKEN"],[63,0,49,11],[63,7,49,4],[64,0,50,3],[65,0,51,1],[67,0,53,0],[67,11,53,9,"resetPassword"],[67,24,53,0],[67,25,53,23,"email"],[67,30,53,0],[67,32,53,30],[68,0,54,2],[68,11,54,9],[68,21,54,10,"dispatch"],[68,29,54,9],[68,31,54,23],[69,0,55,4,"dispatch"],[69,6,55,4,"dispatch"],[69,14,55,12],[69,15,55,13,"request"],[69,22,55,20],[69,23,55,21,"email"],[69,28,55,20],[69,29,55,12],[69,30,55,4],[71,0,57,4,"authService"],[71,24,58,7,"resetPassword"],[71,37,57,4],[71,38,58,21,"email"],[71,43,57,4],[71,45,59,7,"then"],[71,49,57,4],[71,50,59,12],[71,60,59,13,"res"],[71,63,59,12],[71,65,59,21],[72,0,61,8],[72,12,61,11,"res"],[72,15,61,14],[72,16,61,15,"status"],[72,22,61,11],[72,26,61,25],[72,29,61,8],[72,31,61,29],[73,0,63,10,"console"],[73,10,63,10,"console"],[73,17,63,17],[73,18,63,18,"log"],[73,21,63,10],[73,22,63,22],[73,34,63,10],[74,0,64,10,"dispatch"],[74,10,64,10,"dispatch"],[74,18,64,18],[74,19,64,19,"success"],[74,26,64,26],[74,65,64,63,"email"],[74,70,64,26],[74,71,64,18],[74,72,64,10],[75,0,65,9],[75,9,61,8],[75,15,65,14],[76,0,66,10,"console"],[76,10,66,10,"console"],[76,17,66,17],[76,18,66,18,"log"],[76,21,66,10],[76,22,66,22],[76,36,66,10],[77,0,67,10,"dispatch"],[77,10,67,10,"dispatch"],[77,18,67,18],[77,19,67,19,"failure"],[77,26,67,26],[77,28,67,18],[77,29,67,10],[78,0,68,9],[79,0,71,7],[79,7,57,4],[80,0,73,3],[80,5,54,2],[82,0,75,2],[82,13,75,11,"request"],[82,20,75,2],[82,23,75,21],[83,0,76,4],[83,13,76,11],[84,0,76,13,"type"],[84,8,76,13,"type"],[84,12,76,17],[84,14,76,19,"authConstants"],[84,43,76,33,"FORGOTPASSWORD_REQUEST"],[85,0,76,11],[85,7,76,4],[86,0,77,3],[88,0,78,2],[88,13,78,11,"success"],[88,20,78,2],[88,21,78,19,"msg"],[88,24,78,2],[88,26,78,24],[89,0,79,4],[89,13,79,11],[90,0,79,13,"type"],[90,8,79,13,"type"],[90,12,79,17],[90,14,79,19,"authConstants"],[90,43,79,33,"FORGOTPASSWORD_SUCCESS"],[90,65,79,11],[91,0,79,57,"toastMessage"],[91,8,79,57,"toastMessage"],[91,20,79,69],[91,22,79,71,"msg"],[92,0,79,11],[92,7,79,4],[93,0,80,3],[95,0,81,2],[95,13,81,11,"failure"],[95,20,81,2],[95,21,81,19,"error"],[95,26,81,2],[95,28,81,26],[96,0,82,4],[96,13,82,11],[97,0,82,13,"type"],[97,8,82,13,"type"],[97,12,82,17],[97,14,82,19,"authConstants"],[97,43,82,33,"FORGOTPASSWORD_FAILURE"],[98,0,82,11],[98,7,82,4],[99,0,83,3],[100,0,85,1],[102,0,87,0],[102,11,87,9,"getUserToken"],[102,23,87,0],[102,26,87,24],[103,0,88,2],[103,11,88,9],[103,21,88,10,"dispatch"],[103,29,88,9],[103,31,88,23],[104,0,89,4,"authService"],[104,24,90,7,"getItem"],[104,31,89,4],[104,32,90,15],[104,39,89,4],[104,41,91,7,"then"],[104,45,89,4],[104,46,91,12],[104,56,91,13,"value"],[104,61,91,12],[104,63,91,23],[105,0,92,8,"dispatch"],[105,8,92,8,"dispatch"],[105,16,92,16],[105,17,92,17,"getToken"],[105,25,92,25],[105,26,92,26,"value"],[105,31,92,25],[105,32,92,16],[105,33,92,8],[106,0,93,7],[106,7,89,4],[106,9,94,7,"catch"],[106,14,89,4],[106,15,94,13],[106,25,94,14,"err"],[106,28,94,13],[106,30,94,22],[107,0,95,8,"console"],[107,8,95,8,"console"],[107,15,95,15],[107,16,95,16,"log"],[107,19,95,8],[107,20,95,20,"err"],[107,23,95,8],[108,0,96,7],[108,7,89,4],[109,0,97,3],[109,5,88,2],[111,0,99,2],[111,13,99,11,"getToken"],[111,21,99,2],[111,22,99,20,"token"],[111,27,99,2],[111,29,99,27],[112,0,100,4],[112,13,100,11],[113,0,100,13,"type"],[113,8,100,13,"type"],[113,12,100,17],[113,14,100,19,"authConstants"],[113,43,100,33,"GET_TOKEN"],[113,52,100,11],[114,0,100,44,"token"],[114,8,100,44,"token"],[114,13,100,49],[114,15,100,44,"token"],[115,0,100,11],[115,7,100,4],[116,0,101,3],[117,0,102,1],[119,0,104,0],[119,11,104,9,"saveUserToken"],[119,24,104,0],[119,25,104,23,"token"],[119,30,104,0],[119,32,104,30],[120,0,105,2],[120,11,105,9],[120,21,105,10,"dispatch"],[120,29,105,9],[120,31,105,23],[121,0,106,4,"authService"],[121,24,106,16,"saveItem"],[121,32,106,4],[121,33,106,25],[121,40,106,4],[121,42,106,34,"token"],[121,47,106,4],[121,49,106,41,"then"],[121,53,106,4],[121,54,106,46],[121,64,106,47,"token"],[121,69,106,46],[121,71,106,57],[122,0,107,5,"console"],[122,8,107,5,"console"],[122,15,107,12],[122,16,107,13,"log"],[122,19,107,5],[122,20,107,17],[122,37,107,5],[123,0,108,5],[123,7,106,4],[124,0,109,3],[124,5,105,2],[126,0,111,2],[126,13,111,11,"saveToken"],[126,22,111,2],[126,23,111,21,"token"],[126,28,111,2],[126,30,111,28],[127,0,112,4],[127,13,112,11],[128,0,112,13,"type"],[128,8,112,13,"type"],[128,12,112,17],[128,14,112,19,"authConstants"],[128,43,112,33,"SAVE_TOKEN"],[128,53,112,11],[129,0,112,45,"token"],[129,8,112,45,"token"],[129,13,112,50],[129,15,112,45,"token"],[130,0,112,11],[130,7,112,4],[131,0,113,3],[132,0,114,1],[134,0,118,0],[134,11,118,9,"deleteUserToken"],[134,26,118,0],[134,29,118,27],[135,0,119,2],[135,11,119,9],[135,21,119,10,"dispatch"],[135,29,119,9],[135,31,119,23],[136,0,120,4,"authService"],[136,24,120,16,"deleteItem"],[136,34,120,4],[136,35,120,27],[136,42,120,4],[136,44,120,36,"then"],[136,48,120,4],[136,49,120,41],[136,59,120,42,"value"],[136,64,120,41],[136,66,120,52],[137,0,121,6,"dispatch"],[137,8,121,6,"dispatch"],[137,16,121,14],[137,17,121,15,"deleteToken"],[137,28,121,26],[137,30,121,14],[137,31,121,6],[138,0,122,5],[138,7,120,4],[139,0,123,3],[139,5,119,2],[141,0,125,2],[141,13,125,11,"deleteToken"],[141,24,125,2],[141,27,125,25],[142,0,126,4],[142,13,126,11],[143,0,126,13,"type"],[143,8,126,13,"type"],[143,12,126,17],[143,14,126,19,"authConstants"],[143,43,126,33,"DELETE_TOKEN"],[144,0,126,11],[144,7,126,4],[145,0,127,3],[146,0,128,1],[148,0,130,0],[148,11,130,9,"clearLoginErrors"],[148,27,130,0],[148,30,130,28],[149,0,131,2],[149,11,131,9],[150,0,132,4,"type"],[150,6,132,4,"type"],[150,10,132,8],[150,12,132,10,"authConstants"],[150,41,132,24,"CLEAR_LOGIN_ERRORS"],[151,0,131,9],[151,5,131,2],[152,0,134,1],[154,0,136,0],[154,11,136,9,"clearToastMessage"],[154,28,136,0],[154,31,136,29],[155,0,137,2],[155,11,137,9],[156,0,138,4,"type"],[156,6,138,4,"type"],[156,10,138,8],[156,12,138,10,"authConstants"],[156,41,138,24,"CLEAR_TOAST"],[157,0,137,9],[157,5,137,2],[158,0,140,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","resetPassword","authService.resetPassword.then$argument_0","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors","clearToastMessage"],"mappings":"AAA;ACiB;SCC;YCK;ODW;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOK;OPY;GME;EJE;GIE;EHC;GGE;EFC;GEE;CRE;AUE;SRC;YSG;OTE;aUC;OVE;GQC;EGE;GHE;CVC;AcE;SZC;8CaC;KbE;GYC;EPE;GOE;CdC;AgBI;SdC;yCeC;KfE;GcC;EEE;GFE;ChBC;AmBE;CnBI;AoBE;CpBI"}},"type":"js/module"}]}