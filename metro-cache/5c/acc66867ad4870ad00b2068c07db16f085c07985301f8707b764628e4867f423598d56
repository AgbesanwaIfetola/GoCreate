{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    resetPassword: resetPassword,\n    signup: signup,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearErrors: clearErrors,\n    clearToastMessage: clearToastMessage\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          console.log(\"success\");\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          console.log(res.error);\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function resetPassword(email) {\n    return function (dispatch) {\n      dispatch(request(email));\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(\"Your reset link has been sent to \" + email));\n        } else {\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_FAILURE\n      };\n    }\n  }\n\n  function signup(email, first_name, last_name, phone) {\n    return function (dispatch) {\n      dispatch(request());\n\n      _auth.authService.signup(email, first_name, last_name, phone).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(\"A confirmation link has been sent to \" + email));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.REGISTER_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.REGISTER_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.REGISTER_FAILURE,\n        error: error\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {});\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {});\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_ERRORS\n    };\n  }\n\n  function clearToastMessage() {\n    return {\n      type: _authConstants.authConstants.CLEAR_TOAST\n    };\n  }\n});","lineCount":190,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"resetPassword"],[17,4,8,2,"resetPassword"],[17,17,8,15],[17,19,8,2,"resetPassword"],[17,32,6,27],[18,0,9,2,"signup"],[18,4,9,2,"signup"],[18,10,9,8],[18,12,9,2,"signup"],[18,18,6,27],[19,0,10,2,"getUserToken"],[19,4,10,2,"getUserToken"],[19,16,10,14],[19,18,10,2,"getUserToken"],[19,30,6,27],[20,0,11,2,"saveUserToken"],[20,4,11,2,"saveUserToken"],[20,17,11,15],[20,19,11,2,"saveUserToken"],[20,32,6,27],[21,0,12,2,"deleteUserToken"],[21,4,12,2,"deleteUserToken"],[21,19,12,17],[21,21,12,2,"deleteUserToken"],[21,36,6,27],[22,0,13,2,"clearErrors"],[22,4,13,2,"clearErrors"],[22,15,13,13],[22,17,13,2,"clearErrors"],[22,28,6,27],[23,0,14,2,"clearToastMessage"],[23,4,14,2,"clearToastMessage"],[23,21,14,19],[23,23,14,2,"clearToastMessage"],[24,0,6,27],[24,3,6,7],[27,0,19,0],[27,11,19,9,"login"],[27,16,19,0],[27,17,19,15,"username"],[27,25,19,0],[27,27,19,25,"password"],[27,35,19,0],[27,37,19,35],[28,0,20,2],[28,11,20,9],[28,21,20,10,"dispatch"],[28,29,20,9],[28,31,20,23],[29,0,21,4,"dispatch"],[29,6,21,4,"dispatch"],[29,14,21,12],[29,15,21,13,"request"],[29,22,21,20],[29,23,21,21,"username"],[29,31,21,20],[29,32,21,12],[29,33,21,4],[31,0,23,4,"authService"],[31,24,24,7,"login"],[31,29,23,4],[31,30,24,13,"username"],[31,38,23,4],[31,40,24,23,"password"],[31,48,23,4],[31,50,25,7,"then"],[31,54,23,4],[31,55,25,12],[31,65,25,13,"res"],[31,68,25,12],[31,70,25,21],[32,0,27,8],[32,12,27,11,"res"],[32,15,27,14],[32,16,27,15,"status"],[32,22,27,11],[32,26,27,25],[32,29,27,8],[32,31,27,29],[33,0,28,10,"console"],[33,10,28,10,"console"],[33,17,28,17],[33,18,28,18,"log"],[33,21,28,10],[33,22,28,22],[33,31,28,10],[34,0,29,10,"dispatch"],[34,10,29,10,"dispatch"],[34,18,29,18],[34,19,29,19,"success"],[34,26,29,26],[34,27,29,27,"res"],[34,30,29,30],[34,31,29,31,"data"],[34,35,29,27],[34,36,29,36,"token"],[34,41,29,26],[34,42,29,18],[34,43,29,10],[35,0,30,10,"dispatch"],[35,10,30,10,"dispatch"],[35,18,30,18],[35,19,30,19,"saveUserToken"],[35,32,30,32],[35,33,30,33,"res"],[35,36,30,36],[35,37,30,37,"data"],[35,41,30,33],[35,42,30,42,"token"],[35,47,30,32],[35,48,30,18],[35,49,30,10],[36,0,31,9],[36,9,27,8],[36,15,31,14],[37,0,32,10,"console"],[37,10,32,10,"console"],[37,17,32,17],[37,18,32,18,"log"],[37,21,32,10],[37,22,32,22,"res"],[37,25,32,25],[37,26,32,26,"error"],[37,31,32,10],[38,0,33,10,"dispatch"],[38,10,33,10,"dispatch"],[38,18,33,18],[38,19,33,19,"failure"],[38,26,33,26],[38,27,33,27,"res"],[38,30,33,30],[38,31,33,31,"error"],[38,36,33,26],[38,37,33,18],[38,38,33,10],[39,0,34,9],[40,0,37,7],[40,7,23,4],[41,0,39,3],[41,5,20,2],[43,0,41,2],[43,13,41,11,"request"],[43,20,41,2],[43,21,41,19,"user"],[43,25,41,2],[43,27,41,25],[44,0,42,4],[44,13,42,11],[45,0,42,13,"type"],[45,8,42,13,"type"],[45,12,42,17],[45,14,42,19,"authConstants"],[45,43,42,33,"LOGIN_REQUEST"],[46,0,42,11],[46,7,42,4],[47,0,43,3],[49,0,44,2],[49,13,44,11,"success"],[49,20,44,2],[49,21,44,19,"token"],[49,26,44,2],[49,28,44,26],[50,0,45,4],[50,13,45,11],[51,0,45,13,"type"],[51,8,45,13,"type"],[51,12,45,17],[51,14,45,19,"authConstants"],[51,43,45,33,"LOGIN_SUCCESS"],[51,56,45,11],[52,0,45,48,"token"],[52,8,45,48,"token"],[52,13,45,53],[52,15,45,48,"token"],[53,0,45,11],[53,7,45,4],[54,0,46,3],[56,0,47,2],[56,13,47,11,"failure"],[56,20,47,2],[56,21,47,19,"error"],[56,26,47,2],[56,28,47,26],[57,0,48,4],[57,13,48,11],[58,0,48,13,"type"],[58,8,48,13,"type"],[58,12,48,17],[58,14,48,19,"authConstants"],[58,43,48,33,"LOGIN_FAILURE"],[58,56,48,11],[59,0,48,48,"error"],[59,8,48,48,"error"],[59,13,48,53],[59,15,48,48,"error"],[60,0,48,11],[60,7,48,4],[61,0,49,3],[63,0,50,2],[63,13,50,11,"saveToken"],[63,22,50,2],[63,25,50,23],[64,0,51,4],[64,13,51,11],[65,0,51,13,"type"],[65,8,51,13,"type"],[65,12,51,17],[65,14,51,19,"authConstants"],[65,43,51,33,"SAVE_TOKEN"],[66,0,51,11],[66,7,51,4],[67,0,52,3],[68,0,53,1],[70,0,55,0],[70,11,55,9,"resetPassword"],[70,24,55,0],[70,25,55,23,"email"],[70,30,55,0],[70,32,55,30],[71,0,56,2],[71,11,56,9],[71,21,56,10,"dispatch"],[71,29,56,9],[71,31,56,23],[72,0,57,4,"dispatch"],[72,6,57,4,"dispatch"],[72,14,57,12],[72,15,57,13,"request"],[72,22,57,20],[72,23,57,21,"email"],[72,28,57,20],[72,29,57,12],[72,30,57,4],[74,0,59,4,"authService"],[74,24,60,7,"resetPassword"],[74,37,59,4],[74,38,60,21,"email"],[74,43,59,4],[74,45,61,7,"then"],[74,49,59,4],[74,50,61,12],[74,60,61,13,"res"],[74,63,61,12],[74,65,61,21],[75,0,63,8],[75,12,63,11,"res"],[75,15,63,14],[75,16,63,15,"status"],[75,22,63,11],[75,26,63,25],[75,29,63,8],[75,31,63,29],[76,0,66,10,"dispatch"],[76,10,66,10,"dispatch"],[76,18,66,18],[76,19,66,19,"success"],[76,26,66,26],[76,65,66,63,"email"],[76,70,66,26],[76,71,66,18],[76,72,66,10],[77,0,67,9],[77,9,63,8],[77,15,67,14],[78,0,68,10,"dispatch"],[78,10,68,10,"dispatch"],[78,18,68,18],[78,19,68,19,"failure"],[78,26,68,26],[78,28,68,18],[78,29,68,10],[79,0,69,9],[80,0,72,7],[80,7,59,4],[81,0,74,3],[81,5,56,2],[83,0,76,2],[83,13,76,11,"request"],[83,20,76,2],[83,23,76,21],[84,0,77,4],[84,13,77,11],[85,0,77,13,"type"],[85,8,77,13,"type"],[85,12,77,17],[85,14,77,19,"authConstants"],[85,43,77,33,"FORGOTPASSWORD_REQUEST"],[86,0,77,11],[86,7,77,4],[87,0,78,3],[89,0,79,2],[89,13,79,11,"success"],[89,20,79,2],[89,21,79,19,"msg"],[89,24,79,2],[89,26,79,24],[90,0,80,4],[90,13,80,11],[91,0,80,13,"type"],[91,8,80,13,"type"],[91,12,80,17],[91,14,80,19,"authConstants"],[91,43,80,33,"FORGOTPASSWORD_SUCCESS"],[91,65,80,11],[92,0,80,57,"toastMessage"],[92,8,80,57,"toastMessage"],[92,20,80,69],[92,22,80,71,"msg"],[93,0,80,11],[93,7,80,4],[94,0,81,3],[96,0,82,2],[96,13,82,11,"failure"],[96,20,82,2],[96,21,82,19,"error"],[96,26,82,2],[96,28,82,26],[97,0,83,4],[97,13,83,11],[98,0,83,13,"type"],[98,8,83,13,"type"],[98,12,83,17],[98,14,83,19,"authConstants"],[98,43,83,33,"FORGOTPASSWORD_FAILURE"],[99,0,83,11],[99,7,83,4],[100,0,84,3],[101,0,86,1],[103,0,88,0],[103,11,88,9,"signup"],[103,17,88,0],[103,18,88,16,"email"],[103,23,88,0],[103,25,88,23,"first_name"],[103,35,88,0],[103,37,88,35,"last_name"],[103,46,88,0],[103,48,88,46,"phone"],[103,53,88,0],[103,55,88,53],[104,0,89,2],[104,11,89,9],[104,21,89,10,"dispatch"],[104,29,89,9],[104,31,89,23],[105,0,90,4,"dispatch"],[105,6,90,4,"dispatch"],[105,14,90,12],[105,15,90,13,"request"],[105,22,90,20],[105,24,90,12],[105,25,90,4],[107,0,92,4,"authService"],[107,24,93,7,"signup"],[107,30,92,4],[107,31,93,14,"email"],[107,36,92,4],[107,38,93,21,"first_name"],[107,48,92,4],[107,50,93,33,"last_name"],[107,59,92,4],[107,61,93,44,"phone"],[107,66,92,4],[107,68,94,7,"then"],[107,72,92,4],[107,73,94,12],[107,83,94,13,"res"],[107,86,94,12],[107,88,94,21],[108,0,96,8],[108,12,96,11,"res"],[108,15,96,14],[108,16,96,15,"status"],[108,22,96,11],[108,26,96,25],[108,29,96,8],[108,31,96,29],[109,0,97,10,"dispatch"],[109,10,97,10,"dispatch"],[109,18,97,18],[109,19,97,19,"success"],[109,26,97,26],[109,69,97,67,"email"],[109,74,97,26],[109,75,97,18],[109,76,97,10],[110,0,98,9],[110,9,96,8],[110,15,98,14],[111,0,100,10,"dispatch"],[111,10,100,10,"dispatch"],[111,18,100,18],[111,19,100,19,"failure"],[111,26,100,26],[111,27,100,27,"res"],[111,30,100,30],[111,31,100,31,"error"],[111,36,100,26],[111,37,100,18],[111,38,100,10],[112,0,101,9],[113,0,104,7],[113,7,92,4],[114,0,106,3],[114,5,89,2],[116,0,108,2],[116,13,108,11,"request"],[116,20,108,2],[116,23,108,21],[117,0,109,4],[117,13,109,11],[118,0,109,13,"type"],[118,8,109,13,"type"],[118,12,109,17],[118,14,109,19,"authConstants"],[118,43,109,33,"REGISTER_REQUEST"],[119,0,109,11],[119,7,109,4],[120,0,110,3],[122,0,111,2],[122,13,111,11,"success"],[122,20,111,2],[122,21,111,19,"msg"],[122,24,111,2],[122,26,111,24],[123,0,112,4],[123,13,112,11],[124,0,112,13,"type"],[124,8,112,13,"type"],[124,12,112,17],[124,14,112,19,"authConstants"],[124,43,112,33,"REGISTER_SUCCESS"],[124,59,112,11],[125,0,112,51,"toastMessage"],[125,8,112,51,"toastMessage"],[125,20,112,63],[125,22,112,65,"msg"],[126,0,112,11],[126,7,112,4],[127,0,113,3],[129,0,114,2],[129,13,114,11,"failure"],[129,20,114,2],[129,21,114,19,"error"],[129,26,114,2],[129,28,114,26],[130,0,115,4],[130,13,115,11],[131,0,115,13,"type"],[131,8,115,13,"type"],[131,12,115,17],[131,14,115,19,"authConstants"],[131,43,115,33,"REGISTER_FAILURE"],[131,59,115,11],[132,0,115,51,"error"],[132,8,115,51,"error"],[132,13,115,56],[132,15,115,58,"error"],[133,0,115,11],[133,7,115,4],[134,0,116,3],[135,0,118,1],[137,0,120,0],[137,11,120,9,"getUserToken"],[137,23,120,0],[137,26,120,24],[138,0,121,2],[138,11,121,9],[138,21,121,10,"dispatch"],[138,29,121,9],[138,31,121,23],[139,0,122,4,"authService"],[139,24,123,7,"getItem"],[139,31,122,4],[139,32,123,15],[139,39,122,4],[139,41,124,7,"then"],[139,45,122,4],[139,46,124,12],[139,56,124,13,"value"],[139,61,124,12],[139,63,124,23],[140,0,125,8,"dispatch"],[140,8,125,8,"dispatch"],[140,16,125,16],[140,17,125,17,"getToken"],[140,25,125,25],[140,26,125,26,"value"],[140,31,125,25],[140,32,125,16],[140,33,125,8],[141,0,126,7],[141,7,122,4],[141,9,127,7,"catch"],[141,14,122,4],[141,15,127,13],[141,25,127,14,"err"],[141,28,127,13],[141,30,127,22],[141,31,128,7],[141,32,122,4],[142,0,129,3],[142,5,121,2],[144,0,131,2],[144,13,131,11,"getToken"],[144,21,131,2],[144,22,131,20,"token"],[144,27,131,2],[144,29,131,27],[145,0,132,4],[145,13,132,11],[146,0,132,13,"type"],[146,8,132,13,"type"],[146,12,132,17],[146,14,132,19,"authConstants"],[146,43,132,33,"GET_TOKEN"],[146,52,132,11],[147,0,132,44,"token"],[147,8,132,44,"token"],[147,13,132,49],[147,15,132,44,"token"],[148,0,132,11],[148,7,132,4],[149,0,133,3],[150,0,134,1],[152,0,136,0],[152,11,136,9,"saveUserToken"],[152,24,136,0],[152,25,136,23,"token"],[152,30,136,0],[152,32,136,30],[153,0,137,2],[153,11,137,9],[153,21,137,10,"dispatch"],[153,29,137,9],[153,31,137,23],[154,0,138,4,"authService"],[154,24,138,16,"saveItem"],[154,32,138,4],[154,33,138,25],[154,40,138,4],[154,42,138,34,"token"],[154,47,138,4],[154,49,138,41,"then"],[154,53,138,4],[154,54,138,46],[154,64,138,47,"token"],[154,69,138,46],[154,71,138,57],[154,72,139,5],[154,73,138,4],[155,0,140,3],[155,5,137,2],[157,0,142,2],[157,13,142,11,"saveToken"],[157,22,142,2],[157,23,142,21,"token"],[157,28,142,2],[157,30,142,28],[158,0,143,4],[158,13,143,11],[159,0,143,13,"type"],[159,8,143,13,"type"],[159,12,143,17],[159,14,143,19,"authConstants"],[159,43,143,33,"SAVE_TOKEN"],[159,53,143,11],[160,0,143,45,"token"],[160,8,143,45,"token"],[160,13,143,50],[160,15,143,45,"token"],[161,0,143,11],[161,7,143,4],[162,0,144,3],[163,0,145,1],[165,0,149,0],[165,11,149,9,"deleteUserToken"],[165,26,149,0],[165,29,149,27],[166,0,150,2],[166,11,150,9],[166,21,150,10,"dispatch"],[166,29,150,9],[166,31,150,23],[167,0,151,4,"authService"],[167,24,151,16,"deleteItem"],[167,34,151,4],[167,35,151,27],[167,42,151,4],[167,44,151,36,"then"],[167,48,151,4],[167,49,151,41],[167,59,151,42,"value"],[167,64,151,41],[167,66,151,52],[168,0,152,6,"dispatch"],[168,8,152,6,"dispatch"],[168,16,152,14],[168,17,152,15,"deleteToken"],[168,28,152,26],[168,30,152,14],[168,31,152,6],[169,0,153,5],[169,7,151,4],[170,0,154,3],[170,5,150,2],[172,0,156,2],[172,13,156,11,"deleteToken"],[172,24,156,2],[172,27,156,25],[173,0,157,4],[173,13,157,11],[174,0,157,13,"type"],[174,8,157,13,"type"],[174,12,157,17],[174,14,157,19,"authConstants"],[174,43,157,33,"DELETE_TOKEN"],[175,0,157,11],[175,7,157,4],[176,0,158,3],[177,0,159,1],[179,0,161,0],[179,11,161,9,"clearErrors"],[179,22,161,0],[179,25,161,23],[180,0,162,2],[180,11,162,9],[181,0,163,4,"type"],[181,6,163,4,"type"],[181,10,163,8],[181,12,163,10,"authConstants"],[181,41,163,24,"CLEAR_ERRORS"],[182,0,162,9],[182,5,162,2],[183,0,165,1],[185,0,167,0],[185,11,167,9,"clearToastMessage"],[185,28,167,0],[185,31,167,29],[186,0,168,2],[186,11,168,9],[187,0,169,4,"type"],[187,6,169,4,"type"],[187,10,169,8],[187,12,169,10,"authConstants"],[187,41,169,24,"CLEAR_TOAST"],[188,0,168,9],[188,5,168,2],[189,0,171,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","resetPassword","authService.resetPassword.then$argument_0","signup","authService.signup.then$argument_0","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearErrors","clearToastMessage"],"mappings":"AAA;ACkB;SCC;YCK;ODY;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOK;OPW;GME;EJE;GIE;EHC;GGE;EFC;GEE;CRE;AUE;SRC;YSK;OTU;GQE;ENE;GME;ELC;GKE;EJC;GIE;CVE;AYE;SVC;YWG;OXE;aYC;OZC;GUC;EGE;GHE;CZC;AgBE;SdC;8CeC;KfC;GcC;ETE;GSE;ChBC;AkBI;ShBC;yCiBC;KjBE;GgBC;EEE;GFE;ClBC;AqBE;CrBI;AsBE;CtBI"}},"type":"js/module"}]}