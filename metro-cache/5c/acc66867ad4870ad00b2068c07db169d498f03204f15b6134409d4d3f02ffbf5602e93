{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    resetPassword: resetPassword,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function resetPassword(email) {\n    return function (dispatch) {\n      dispatch(request(email));\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 201) {\n          dispatch(success());\n        } else {\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_REQUEST\n      };\n    }\n\n    function success() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_FAILURE\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        console.log(\"saved in memory\");\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":149,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"resetPassword"],[17,4,8,2,"resetPassword"],[17,17,8,15],[17,19,8,2,"resetPassword"],[17,32,6,27],[18,0,9,2,"getUserToken"],[18,4,9,2,"getUserToken"],[18,16,9,14],[18,18,9,2,"getUserToken"],[18,30,6,27],[19,0,10,2,"saveUserToken"],[19,4,10,2,"saveUserToken"],[19,17,10,15],[19,19,10,2,"saveUserToken"],[19,32,6,27],[20,0,11,2,"deleteUserToken"],[20,4,11,2,"deleteUserToken"],[20,19,11,17],[20,21,11,2,"deleteUserToken"],[20,36,6,27],[21,0,12,2,"clearLoginErrors"],[21,4,12,2,"clearLoginErrors"],[21,20,12,18],[21,22,12,2,"clearLoginErrors"],[22,0,6,27],[22,3,6,7],[25,0,17,0],[25,11,17,9,"login"],[25,16,17,0],[25,17,17,15,"username"],[25,25,17,0],[25,27,17,25,"password"],[25,35,17,0],[25,37,17,35],[26,0,18,2],[26,11,18,9],[26,21,18,10,"dispatch"],[26,29,18,9],[26,31,18,23],[27,0,19,4,"dispatch"],[27,6,19,4,"dispatch"],[27,14,19,12],[27,15,19,13,"request"],[27,22,19,20],[27,23,19,21,"username"],[27,31,19,20],[27,32,19,12],[27,33,19,4],[29,0,21,4,"authService"],[29,24,22,7,"login"],[29,29,21,4],[29,30,22,13,"username"],[29,38,21,4],[29,40,22,23,"password"],[29,48,21,4],[29,50,23,7,"then"],[29,54,21,4],[29,55,23,12],[29,65,23,13,"res"],[29,68,23,12],[29,70,23,21],[30,0,25,8],[30,12,25,11,"res"],[30,15,25,14],[30,16,25,15,"status"],[30,22,25,11],[30,26,25,25],[30,29,25,8],[30,31,25,29],[31,0,27,10,"dispatch"],[31,10,27,10,"dispatch"],[31,18,27,18],[31,19,27,19,"success"],[31,26,27,26],[31,27,27,27,"res"],[31,30,27,30],[31,31,27,31,"data"],[31,35,27,27],[31,36,27,36,"token"],[31,41,27,26],[31,42,27,18],[31,43,27,10],[32,0,28,10,"dispatch"],[32,10,28,10,"dispatch"],[32,18,28,18],[32,19,28,19,"saveUserToken"],[32,32,28,32],[32,33,28,33,"res"],[32,36,28,36],[32,37,28,37,"data"],[32,41,28,33],[32,42,28,42,"token"],[32,47,28,32],[32,48,28,18],[32,49,28,10],[33,0,29,9],[33,9,25,8],[33,15,29,14],[34,0,30,10,"dispatch"],[34,10,30,10,"dispatch"],[34,18,30,18],[34,19,30,19,"failure"],[34,26,30,26],[34,27,30,27,"res"],[34,30,30,30],[34,31,30,31,"error"],[34,36,30,26],[34,37,30,18],[34,38,30,10],[35,0,31,9],[36,0,34,7],[36,7,21,4],[37,0,36,3],[37,5,18,2],[39,0,38,2],[39,13,38,11,"request"],[39,20,38,2],[39,21,38,19,"user"],[39,25,38,2],[39,27,38,25],[40,0,39,4],[40,13,39,11],[41,0,39,13,"type"],[41,8,39,13,"type"],[41,12,39,17],[41,14,39,19,"authConstants"],[41,43,39,33,"LOGIN_REQUEST"],[42,0,39,11],[42,7,39,4],[43,0,40,3],[45,0,41,2],[45,13,41,11,"success"],[45,20,41,2],[45,21,41,19,"token"],[45,26,41,2],[45,28,41,26],[46,0,42,4],[46,13,42,11],[47,0,42,13,"type"],[47,8,42,13,"type"],[47,12,42,17],[47,14,42,19,"authConstants"],[47,43,42,33,"LOGIN_SUCCESS"],[47,56,42,11],[48,0,42,48,"token"],[48,8,42,48,"token"],[48,13,42,53],[48,15,42,48,"token"],[49,0,42,11],[49,7,42,4],[50,0,43,3],[52,0,44,2],[52,13,44,11,"failure"],[52,20,44,2],[52,21,44,19,"error"],[52,26,44,2],[52,28,44,26],[53,0,45,4],[53,13,45,11],[54,0,45,13,"type"],[54,8,45,13,"type"],[54,12,45,17],[54,14,45,19,"authConstants"],[54,43,45,33,"LOGIN_FAILURE"],[54,56,45,11],[55,0,45,48,"error"],[55,8,45,48,"error"],[55,13,45,53],[55,15,45,48,"error"],[56,0,45,11],[56,7,45,4],[57,0,46,3],[59,0,47,2],[59,13,47,11,"saveToken"],[59,22,47,2],[59,25,47,23],[60,0,48,4],[60,13,48,11],[61,0,48,13,"type"],[61,8,48,13,"type"],[61,12,48,17],[61,14,48,19,"authConstants"],[61,43,48,33,"SAVE_TOKEN"],[62,0,48,11],[62,7,48,4],[63,0,49,3],[64,0,50,1],[66,0,52,0],[66,11,52,9,"resetPassword"],[66,24,52,0],[66,25,52,23,"email"],[66,30,52,0],[66,32,52,30],[67,0,53,2],[67,11,53,9],[67,21,53,10,"dispatch"],[67,29,53,9],[67,31,53,23],[68,0,54,4,"dispatch"],[68,6,54,4,"dispatch"],[68,14,54,12],[68,15,54,13,"request"],[68,22,54,20],[68,23,54,21,"email"],[68,28,54,20],[68,29,54,12],[68,30,54,4],[70,0,56,4,"authService"],[70,24,57,7,"resetPassword"],[70,37,56,4],[70,38,57,21,"email"],[70,43,56,4],[70,45,58,7,"then"],[70,49,56,4],[70,50,58,12],[70,60,58,13,"res"],[70,63,58,12],[70,65,58,21],[71,0,60,8],[71,12,60,11,"res"],[71,15,60,14],[71,16,60,15,"status"],[71,22,60,11],[71,26,60,25],[71,29,60,8],[71,31,60,29],[72,0,62,10,"dispatch"],[72,10,62,10,"dispatch"],[72,18,62,18],[72,19,62,19,"success"],[72,26,62,26],[72,28,62,18],[72,29,62,10],[73,0,63,9],[73,9,60,8],[73,15,63,14],[74,0,64,10,"dispatch"],[74,10,64,10,"dispatch"],[74,18,64,18],[74,19,64,19,"failure"],[74,26,64,26],[74,28,64,18],[74,29,64,10],[75,0,65,9],[76,0,68,7],[76,7,56,4],[77,0,70,3],[77,5,53,2],[79,0,72,2],[79,13,72,11,"request"],[79,20,72,2],[79,23,72,21],[80,0,73,4],[80,13,73,11],[81,0,73,13,"type"],[81,8,73,13,"type"],[81,12,73,17],[81,14,73,19,"authConstants"],[81,43,73,33,"FORGOTPASSWORD_REQUEST"],[82,0,73,11],[82,7,73,4],[83,0,74,3],[85,0,75,2],[85,13,75,11,"success"],[85,20,75,2],[85,23,75,21],[86,0,76,4],[86,13,76,11],[87,0,76,13,"type"],[87,8,76,13,"type"],[87,12,76,17],[87,14,76,19,"authConstants"],[87,43,76,33,"FORGOTPASSWORD_SUCCESS"],[88,0,76,11],[88,7,76,4],[89,0,77,3],[91,0,78,2],[91,13,78,11,"failure"],[91,20,78,2],[91,21,78,19,"error"],[91,26,78,2],[91,28,78,26],[92,0,79,4],[92,13,79,11],[93,0,79,13,"type"],[93,8,79,13,"type"],[93,12,79,17],[93,14,79,19,"authConstants"],[93,43,79,33,"FORGOTPASSWORD_FAILURE"],[94,0,79,11],[94,7,79,4],[95,0,80,3],[96,0,82,1],[98,0,84,0],[98,11,84,9,"getUserToken"],[98,23,84,0],[98,26,84,24],[99,0,85,2],[99,11,85,9],[99,21,85,10,"dispatch"],[99,29,85,9],[99,31,85,23],[100,0,86,4,"authService"],[100,24,87,7,"getItem"],[100,31,86,4],[100,32,87,15],[100,39,86,4],[100,41,88,7,"then"],[100,45,86,4],[100,46,88,12],[100,56,88,13,"value"],[100,61,88,12],[100,63,88,23],[101,0,89,8,"dispatch"],[101,8,89,8,"dispatch"],[101,16,89,16],[101,17,89,17,"getToken"],[101,25,89,25],[101,26,89,26,"value"],[101,31,89,25],[101,32,89,16],[101,33,89,8],[102,0,90,7],[102,7,86,4],[102,9,91,7,"catch"],[102,14,86,4],[102,15,91,13],[102,25,91,14,"err"],[102,28,91,13],[102,30,91,22],[103,0,92,8,"console"],[103,8,92,8,"console"],[103,15,92,15],[103,16,92,16,"log"],[103,19,92,8],[103,20,92,20,"err"],[103,23,92,8],[104,0,93,7],[104,7,86,4],[105,0,94,3],[105,5,85,2],[107,0,96,2],[107,13,96,11,"getToken"],[107,21,96,2],[107,22,96,20,"token"],[107,27,96,2],[107,29,96,27],[108,0,97,4],[108,13,97,11],[109,0,97,13,"type"],[109,8,97,13,"type"],[109,12,97,17],[109,14,97,19,"authConstants"],[109,43,97,33,"GET_TOKEN"],[109,52,97,11],[110,0,97,44,"token"],[110,8,97,44,"token"],[110,13,97,49],[110,15,97,44,"token"],[111,0,97,11],[111,7,97,4],[112,0,98,3],[113,0,99,1],[115,0,101,0],[115,11,101,9,"saveUserToken"],[115,24,101,0],[115,25,101,23,"token"],[115,30,101,0],[115,32,101,30],[116,0,102,2],[116,11,102,9],[116,21,102,10,"dispatch"],[116,29,102,9],[116,31,102,23],[117,0,103,4,"authService"],[117,24,103,16,"saveItem"],[117,32,103,4],[117,33,103,25],[117,40,103,4],[117,42,103,34,"token"],[117,47,103,4],[117,49,103,41,"then"],[117,53,103,4],[117,54,103,46],[117,64,103,47,"token"],[117,69,103,46],[117,71,103,57],[118,0,104,5,"console"],[118,8,104,5,"console"],[118,15,104,12],[118,16,104,13,"log"],[118,19,104,5],[118,20,104,17],[118,37,104,5],[119,0,105,5],[119,7,103,4],[120,0,106,3],[120,5,102,2],[122,0,108,2],[122,13,108,11,"saveToken"],[122,22,108,2],[122,23,108,21,"token"],[122,28,108,2],[122,30,108,28],[123,0,109,4],[123,13,109,11],[124,0,109,13,"type"],[124,8,109,13,"type"],[124,12,109,17],[124,14,109,19,"authConstants"],[124,43,109,33,"SAVE_TOKEN"],[124,53,109,11],[125,0,109,45,"token"],[125,8,109,45,"token"],[125,13,109,50],[125,15,109,45,"token"],[126,0,109,11],[126,7,109,4],[127,0,110,3],[128,0,111,1],[130,0,115,0],[130,11,115,9,"deleteUserToken"],[130,26,115,0],[130,29,115,27],[131,0,116,2],[131,11,116,9],[131,21,116,10,"dispatch"],[131,29,116,9],[131,31,116,23],[132,0,117,4,"authService"],[132,24,117,16,"deleteItem"],[132,34,117,4],[132,35,117,27],[132,42,117,4],[132,44,117,36,"then"],[132,48,117,4],[132,49,117,41],[132,59,117,42,"value"],[132,64,117,41],[132,66,117,52],[133,0,118,6,"dispatch"],[133,8,118,6,"dispatch"],[133,16,118,14],[133,17,118,15,"deleteToken"],[133,28,118,26],[133,30,118,14],[133,31,118,6],[134,0,119,5],[134,7,117,4],[135,0,120,3],[135,5,116,2],[137,0,122,2],[137,13,122,11,"deleteToken"],[137,24,122,2],[137,27,122,25],[138,0,123,4],[138,13,123,11],[139,0,123,13,"type"],[139,8,123,13,"type"],[139,12,123,17],[139,14,123,19,"authConstants"],[139,43,123,33,"DELETE_TOKEN"],[140,0,123,11],[140,7,123,4],[141,0,124,3],[142,0,125,1],[144,0,127,0],[144,11,127,9,"clearLoginErrors"],[144,27,127,0],[144,30,127,28],[145,0,128,2],[145,11,128,9],[146,0,129,4,"type"],[146,6,129,4,"type"],[146,10,129,8],[146,12,129,10,"authConstants"],[146,41,129,24,"CLEAR_LOGIN_ERRORS"],[147,0,128,9],[147,5,128,2],[148,0,131,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","resetPassword","authService.resetPassword.then$argument_0","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACgB;SCC;YCK;ODW;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOK;OPU;GME;EJE;GIE;EHC;GGE;EFC;GEE;CRE;AUE;SRC;YSG;OTE;aUC;OVE;GQC;EGE;GHE;CVC;AcE;SZC;8CaC;KbE;GYC;EPE;GOE;CdC;AgBI;SdC;yCeC;KfE;GcC;EEE;GFE;ChBC;AmBE;CnBI"}},"type":"js/module"}]}