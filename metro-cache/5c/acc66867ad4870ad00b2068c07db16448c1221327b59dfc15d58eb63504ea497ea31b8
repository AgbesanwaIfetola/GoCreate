{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        console.log(res.status);\n\n        if (res.status == 200) {\n          dispatch(saveUserToken(res.data.token));\n          dispatch(success());\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        dispatch(saveToken(token));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":117,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"getUserToken"],[17,4,8,2,"getUserToken"],[17,16,8,14],[17,18,8,2,"getUserToken"],[17,30,6,27],[18,0,9,2,"saveUserToken"],[18,4,9,2,"saveUserToken"],[18,17,9,15],[18,19,9,2,"saveUserToken"],[18,32,6,27],[19,0,10,2,"deleteUserToken"],[19,4,10,2,"deleteUserToken"],[19,19,10,17],[19,21,10,2,"deleteUserToken"],[19,36,6,27],[20,0,11,2,"clearLoginErrors"],[20,4,11,2,"clearLoginErrors"],[20,20,11,18],[20,22,11,2,"clearLoginErrors"],[21,0,6,27],[21,3,6,7],[24,0,15,0],[24,11,15,9,"login"],[24,16,15,0],[24,17,15,15,"username"],[24,25,15,0],[24,27,15,25,"password"],[24,35,15,0],[24,37,15,35],[25,0,16,2],[25,11,16,9],[25,21,16,10,"dispatch"],[25,29,16,9],[25,31,16,23],[26,0,17,4,"dispatch"],[26,6,17,4,"dispatch"],[26,14,17,12],[26,15,17,13,"request"],[26,22,17,20],[26,23,17,21,"username"],[26,31,17,20],[26,32,17,12],[26,33,17,4],[28,0,19,4,"authService"],[28,24,20,7,"login"],[28,29,19,4],[28,30,20,13,"username"],[28,38,19,4],[28,40,20,23,"password"],[28,48,19,4],[28,50,21,7,"then"],[28,54,19,4],[28,55,21,12],[28,65,21,13,"res"],[28,68,21,12],[28,70,21,21],[29,0,22,8,"console"],[29,8,22,8,"console"],[29,15,22,15],[29,16,22,16,"log"],[29,19,22,8],[29,20,22,20,"res"],[29,23,22,23],[29,24,22,24,"status"],[29,30,22,8],[31,0,23,8],[31,12,23,11,"res"],[31,15,23,14],[31,16,23,15,"status"],[31,22,23,11],[31,26,23,25],[31,29,23,8],[31,31,23,29],[32,0,24,10,"dispatch"],[32,10,24,10,"dispatch"],[32,18,24,18],[32,19,24,19,"saveUserToken"],[32,32,24,32],[32,33,24,33,"res"],[32,36,24,36],[32,37,24,37,"data"],[32,41,24,33],[32,42,24,42,"token"],[32,47,24,32],[32,48,24,18],[32,49,24,10],[33,0,25,10,"dispatch"],[33,10,25,10,"dispatch"],[33,18,25,18],[33,19,25,19,"success"],[33,26,25,26],[33,28,25,18],[33,29,25,10],[34,0,26,9],[34,9,23,8],[34,15,26,14],[35,0,27,10,"dispatch"],[35,10,27,10,"dispatch"],[35,18,27,18],[35,19,27,19,"failure"],[35,26,27,26],[35,27,27,27,"res"],[35,30,27,30],[35,31,27,31,"error"],[35,36,27,26],[35,37,27,18],[35,38,27,10],[36,0,28,9],[37,0,31,7],[37,7,19,4],[38,0,33,3],[38,5,16,2],[40,0,35,2],[40,13,35,11,"request"],[40,20,35,2],[40,21,35,19,"user"],[40,25,35,2],[40,27,35,25],[41,0,36,4],[41,13,36,11],[42,0,36,13,"type"],[42,8,36,13,"type"],[42,12,36,17],[42,14,36,19,"authConstants"],[42,43,36,33,"LOGIN_REQUEST"],[43,0,36,11],[43,7,36,4],[44,0,37,3],[46,0,38,2],[46,13,38,11,"success"],[46,20,38,2],[46,21,38,19,"user"],[46,25,38,2],[46,27,38,25],[47,0,39,4],[47,13,39,11],[48,0,39,13,"type"],[48,8,39,13,"type"],[48,12,39,17],[48,14,39,19,"authConstants"],[48,43,39,33,"LOGIN_SUCCESS"],[49,0,39,11],[49,7,39,4],[50,0,40,3],[52,0,41,2],[52,13,41,11,"failure"],[52,20,41,2],[52,21,41,19,"error"],[52,26,41,2],[52,28,41,26],[53,0,42,4],[53,13,42,11],[54,0,42,13,"type"],[54,8,42,13,"type"],[54,12,42,17],[54,14,42,19,"authConstants"],[54,43,42,33,"LOGIN_FAILURE"],[54,56,42,11],[55,0,42,48,"error"],[55,8,42,48,"error"],[55,13,42,53],[55,15,42,48,"error"],[56,0,42,11],[56,7,42,4],[57,0,43,3],[59,0,44,2],[59,13,44,11,"saveToken"],[59,22,44,2],[59,25,44,23],[60,0,45,4],[60,13,45,11],[61,0,45,13,"type"],[61,8,45,13,"type"],[61,12,45,17],[61,14,45,19,"authConstants"],[61,43,45,33,"SAVE_TOKEN"],[62,0,45,11],[62,7,45,4],[63,0,46,3],[64,0,47,1],[66,0,49,0],[66,11,49,9,"getUserToken"],[66,23,49,0],[66,26,49,24],[67,0,50,2],[67,11,50,9],[67,21,50,10,"dispatch"],[67,29,50,9],[67,31,50,23],[68,0,51,4,"authService"],[68,24,52,7,"getItem"],[68,31,51,4],[68,32,52,15],[68,39,51,4],[68,41,53,7,"then"],[68,45,51,4],[68,46,53,12],[68,56,53,13,"value"],[68,61,53,12],[68,63,53,23],[69,0,54,8,"dispatch"],[69,8,54,8,"dispatch"],[69,16,54,16],[69,17,54,17,"getToken"],[69,25,54,25],[69,26,54,26,"value"],[69,31,54,25],[69,32,54,16],[69,33,54,8],[70,0,55,7],[70,7,51,4],[70,9,56,7,"catch"],[70,14,51,4],[70,15,56,13],[70,25,56,14,"err"],[70,28,56,13],[70,30,56,22],[71,0,57,8,"console"],[71,8,57,8,"console"],[71,15,57,15],[71,16,57,16,"log"],[71,19,57,8],[71,20,57,20,"err"],[71,23,57,8],[72,0,58,7],[72,7,51,4],[73,0,59,3],[73,5,50,2],[75,0,61,2],[75,13,61,11,"getToken"],[75,21,61,2],[75,22,61,20,"token"],[75,27,61,2],[75,29,61,27],[76,0,62,4],[76,13,62,11],[77,0,62,13,"type"],[77,8,62,13,"type"],[77,12,62,17],[77,14,62,19,"authConstants"],[77,43,62,33,"GET_TOKEN"],[77,52,62,11],[78,0,62,44,"token"],[78,8,62,44,"token"],[78,13,62,49],[78,15,62,44,"token"],[79,0,62,11],[79,7,62,4],[80,0,63,3],[81,0,64,1],[83,0,66,0],[83,11,66,9,"saveUserToken"],[83,24,66,0],[83,25,66,23,"token"],[83,30,66,0],[83,32,66,30],[84,0,67,2],[84,11,67,9],[84,21,67,10,"dispatch"],[84,29,67,9],[84,31,67,23],[85,0,68,4,"authService"],[85,24,68,16,"saveItem"],[85,32,68,4],[85,33,68,25],[85,40,68,4],[85,42,68,34,"token"],[85,47,68,4],[85,49,68,41,"then"],[85,53,68,4],[85,54,68,46],[85,64,68,47,"token"],[85,69,68,46],[85,71,68,57],[86,0,70,6,"dispatch"],[86,8,70,6,"dispatch"],[86,16,70,14],[86,17,70,15,"saveToken"],[86,26,70,24],[86,27,70,25,"token"],[86,32,70,24],[86,33,70,14],[86,34,70,6],[87,0,71,5],[87,7,68,4],[88,0,72,3],[88,5,67,2],[90,0,74,2],[90,13,74,11,"saveToken"],[90,22,74,2],[90,23,74,21,"token"],[90,28,74,2],[90,30,74,28],[91,0,75,4],[91,13,75,11],[92,0,75,13,"type"],[92,8,75,13,"type"],[92,12,75,17],[92,14,75,19,"authConstants"],[92,43,75,33,"SAVE_TOKEN"],[92,53,75,11],[93,0,75,45,"token"],[93,8,75,45,"token"],[93,13,75,50],[93,15,75,45,"token"],[94,0,75,11],[94,7,75,4],[95,0,76,3],[96,0,77,1],[98,0,81,0],[98,11,81,9,"deleteUserToken"],[98,26,81,0],[98,29,81,27],[99,0,82,2],[99,11,82,9],[99,21,82,10,"dispatch"],[99,29,82,9],[99,31,82,23],[100,0,83,4,"authService"],[100,24,83,16,"deleteItem"],[100,34,83,4],[100,35,83,27],[100,42,83,4],[100,44,83,36,"then"],[100,48,83,4],[100,49,83,41],[100,59,83,42,"value"],[100,64,83,41],[100,66,83,52],[101,0,84,6,"dispatch"],[101,8,84,6,"dispatch"],[101,16,84,14],[101,17,84,15,"deleteToken"],[101,28,84,26],[101,30,84,14],[101,31,84,6],[102,0,85,5],[102,7,83,4],[103,0,86,3],[103,5,82,2],[105,0,88,2],[105,13,88,11,"deleteToken"],[105,24,88,2],[105,27,88,25],[106,0,89,4],[106,13,89,11],[107,0,89,13,"type"],[107,8,89,13,"type"],[107,12,89,17],[107,14,89,19,"authConstants"],[107,43,89,33,"DELETE_TOKEN"],[108,0,89,11],[108,7,89,4],[109,0,90,3],[110,0,91,1],[112,0,93,0],[112,11,93,9,"clearLoginErrors"],[112,27,93,0],[112,30,93,28],[113,0,94,2],[113,11,94,9],[114,0,95,4,"type"],[114,6,95,4,"type"],[114,10,95,8],[114,12,95,10,"authConstants"],[114,41,95,24,"CLEAR_LOGIN_ERRORS"],[115,0,94,9],[115,5,94,2],[116,0,97,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACc;SCC;YCK;ODU;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOG;OPE;aQC;ORE;GMC;EGE;GHE;CRC;AYE;SVC;8CWC;KXG;GUC;ELE;GKE;CZC;AcI;SZC;yCaC;KbE;GYC;EEE;GFE;CdC;AiBE;CjBI"}},"type":"js/module"}]}