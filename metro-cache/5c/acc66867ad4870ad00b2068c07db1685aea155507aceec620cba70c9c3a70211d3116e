{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    resetPassword: resetPassword,\n    signup: signup,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearErrors: clearErrors,\n    clearToastMessage: clearToastMessage\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function resetPassword(email) {\n    return function (dispatch) {\n      dispatch(request(email));\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(\"Your reset link has been sent to \" + email));\n        } else {\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_FAILURE\n      };\n    }\n  }\n\n  function signup(email, first_name, last_name, phone) {\n    return function (dispatch) {\n      dispatch(request());\n\n      _auth.authService.signup(email, first_name, last_name, phone).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(\"A confirmation link has been sent to \" + email));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.REGISTER_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.REGISTER_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.REGISTER_FAILURE,\n        error: error\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {});\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {});\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_ERRORS\n    };\n  }\n\n  function clearToastMessage() {\n    return {\n      type: _authConstants.authConstants.CLEAR_TOAST\n    };\n  }\n});","lineCount":188,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"resetPassword"],[17,4,8,2,"resetPassword"],[17,17,8,15],[17,19,8,2,"resetPassword"],[17,32,6,27],[18,0,9,2,"signup"],[18,4,9,2,"signup"],[18,10,9,8],[18,12,9,2,"signup"],[18,18,6,27],[19,0,10,2,"getUserToken"],[19,4,10,2,"getUserToken"],[19,16,10,14],[19,18,10,2,"getUserToken"],[19,30,6,27],[20,0,11,2,"saveUserToken"],[20,4,11,2,"saveUserToken"],[20,17,11,15],[20,19,11,2,"saveUserToken"],[20,32,6,27],[21,0,12,2,"deleteUserToken"],[21,4,12,2,"deleteUserToken"],[21,19,12,17],[21,21,12,2,"deleteUserToken"],[21,36,6,27],[22,0,13,2,"clearErrors"],[22,4,13,2,"clearErrors"],[22,15,13,13],[22,17,13,2,"clearErrors"],[22,28,6,27],[23,0,14,2,"clearToastMessage"],[23,4,14,2,"clearToastMessage"],[23,21,14,19],[23,23,14,2,"clearToastMessage"],[24,0,6,27],[24,3,6,7],[27,0,19,0],[27,11,19,9,"login"],[27,16,19,0],[27,17,19,15,"username"],[27,25,19,0],[27,27,19,25,"password"],[27,35,19,0],[27,37,19,35],[28,0,20,2],[28,11,20,9],[28,21,20,10,"dispatch"],[28,29,20,9],[28,31,20,23],[29,0,21,4,"dispatch"],[29,6,21,4,"dispatch"],[29,14,21,12],[29,15,21,13,"request"],[29,22,21,20],[29,23,21,21,"username"],[29,31,21,20],[29,32,21,12],[29,33,21,4],[31,0,23,4,"authService"],[31,24,24,7,"login"],[31,29,23,4],[31,30,24,13,"username"],[31,38,23,4],[31,40,24,23,"password"],[31,48,23,4],[31,50,25,7,"then"],[31,54,23,4],[31,55,25,12],[31,65,25,13,"res"],[31,68,25,12],[31,70,25,21],[32,0,27,8],[32,12,27,11,"res"],[32,15,27,14],[32,16,27,15,"status"],[32,22,27,11],[32,26,27,25],[32,29,27,8],[32,31,27,29],[33,0,29,10,"dispatch"],[33,10,29,10,"dispatch"],[33,18,29,18],[33,19,29,19,"success"],[33,26,29,26],[33,27,29,27,"res"],[33,30,29,30],[33,31,29,31,"data"],[33,35,29,27],[33,36,29,36,"token"],[33,41,29,26],[33,42,29,18],[33,43,29,10],[34,0,30,10,"dispatch"],[34,10,30,10,"dispatch"],[34,18,30,18],[34,19,30,19,"saveUserToken"],[34,32,30,32],[34,33,30,33,"res"],[34,36,30,36],[34,37,30,37,"data"],[34,41,30,33],[34,42,30,42,"token"],[34,47,30,32],[34,48,30,18],[34,49,30,10],[35,0,31,9],[35,9,27,8],[35,15,31,14],[36,0,32,10,"dispatch"],[36,10,32,10,"dispatch"],[36,18,32,18],[36,19,32,19,"failure"],[36,26,32,26],[36,27,32,27,"res"],[36,30,32,30],[36,31,32,31,"error"],[36,36,32,26],[36,37,32,18],[36,38,32,10],[37,0,33,9],[38,0,36,7],[38,7,23,4],[39,0,38,3],[39,5,20,2],[41,0,40,2],[41,13,40,11,"request"],[41,20,40,2],[41,21,40,19,"user"],[41,25,40,2],[41,27,40,25],[42,0,41,4],[42,13,41,11],[43,0,41,13,"type"],[43,8,41,13,"type"],[43,12,41,17],[43,14,41,19,"authConstants"],[43,43,41,33,"LOGIN_REQUEST"],[44,0,41,11],[44,7,41,4],[45,0,42,3],[47,0,43,2],[47,13,43,11,"success"],[47,20,43,2],[47,21,43,19,"token"],[47,26,43,2],[47,28,43,26],[48,0,44,4],[48,13,44,11],[49,0,44,13,"type"],[49,8,44,13,"type"],[49,12,44,17],[49,14,44,19,"authConstants"],[49,43,44,33,"LOGIN_SUCCESS"],[49,56,44,11],[50,0,44,48,"token"],[50,8,44,48,"token"],[50,13,44,53],[50,15,44,48,"token"],[51,0,44,11],[51,7,44,4],[52,0,45,3],[54,0,46,2],[54,13,46,11,"failure"],[54,20,46,2],[54,21,46,19,"error"],[54,26,46,2],[54,28,46,26],[55,0,47,4],[55,13,47,11],[56,0,47,13,"type"],[56,8,47,13,"type"],[56,12,47,17],[56,14,47,19,"authConstants"],[56,43,47,33,"LOGIN_FAILURE"],[56,56,47,11],[57,0,47,48,"error"],[57,8,47,48,"error"],[57,13,47,53],[57,15,47,48,"error"],[58,0,47,11],[58,7,47,4],[59,0,48,3],[61,0,49,2],[61,13,49,11,"saveToken"],[61,22,49,2],[61,25,49,23],[62,0,50,4],[62,13,50,11],[63,0,50,13,"type"],[63,8,50,13,"type"],[63,12,50,17],[63,14,50,19,"authConstants"],[63,43,50,33,"SAVE_TOKEN"],[64,0,50,11],[64,7,50,4],[65,0,51,3],[66,0,52,1],[68,0,54,0],[68,11,54,9,"resetPassword"],[68,24,54,0],[68,25,54,23,"email"],[68,30,54,0],[68,32,54,30],[69,0,55,2],[69,11,55,9],[69,21,55,10,"dispatch"],[69,29,55,9],[69,31,55,23],[70,0,56,4,"dispatch"],[70,6,56,4,"dispatch"],[70,14,56,12],[70,15,56,13,"request"],[70,22,56,20],[70,23,56,21,"email"],[70,28,56,20],[70,29,56,12],[70,30,56,4],[72,0,58,4,"authService"],[72,24,59,7,"resetPassword"],[72,37,58,4],[72,38,59,21,"email"],[72,43,58,4],[72,45,60,7,"then"],[72,49,58,4],[72,50,60,12],[72,60,60,13,"res"],[72,63,60,12],[72,65,60,21],[73,0,62,8],[73,12,62,11,"res"],[73,15,62,14],[73,16,62,15,"status"],[73,22,62,11],[73,26,62,25],[73,29,62,8],[73,31,62,29],[74,0,65,10,"dispatch"],[74,10,65,10,"dispatch"],[74,18,65,18],[74,19,65,19,"success"],[74,26,65,26],[74,65,65,63,"email"],[74,70,65,26],[74,71,65,18],[74,72,65,10],[75,0,66,9],[75,9,62,8],[75,15,66,14],[76,0,67,10,"dispatch"],[76,10,67,10,"dispatch"],[76,18,67,18],[76,19,67,19,"failure"],[76,26,67,26],[76,28,67,18],[76,29,67,10],[77,0,68,9],[78,0,71,7],[78,7,58,4],[79,0,73,3],[79,5,55,2],[81,0,75,2],[81,13,75,11,"request"],[81,20,75,2],[81,23,75,21],[82,0,76,4],[82,13,76,11],[83,0,76,13,"type"],[83,8,76,13,"type"],[83,12,76,17],[83,14,76,19,"authConstants"],[83,43,76,33,"FORGOTPASSWORD_REQUEST"],[84,0,76,11],[84,7,76,4],[85,0,77,3],[87,0,78,2],[87,13,78,11,"success"],[87,20,78,2],[87,21,78,19,"msg"],[87,24,78,2],[87,26,78,24],[88,0,79,4],[88,13,79,11],[89,0,79,13,"type"],[89,8,79,13,"type"],[89,12,79,17],[89,14,79,19,"authConstants"],[89,43,79,33,"FORGOTPASSWORD_SUCCESS"],[89,65,79,11],[90,0,79,57,"toastMessage"],[90,8,79,57,"toastMessage"],[90,20,79,69],[90,22,79,71,"msg"],[91,0,79,11],[91,7,79,4],[92,0,80,3],[94,0,81,2],[94,13,81,11,"failure"],[94,20,81,2],[94,21,81,19,"error"],[94,26,81,2],[94,28,81,26],[95,0,82,4],[95,13,82,11],[96,0,82,13,"type"],[96,8,82,13,"type"],[96,12,82,17],[96,14,82,19,"authConstants"],[96,43,82,33,"FORGOTPASSWORD_FAILURE"],[97,0,82,11],[97,7,82,4],[98,0,83,3],[99,0,85,1],[101,0,87,0],[101,11,87,9,"signup"],[101,17,87,0],[101,18,87,16,"email"],[101,23,87,0],[101,25,87,23,"first_name"],[101,35,87,0],[101,37,87,35,"last_name"],[101,46,87,0],[101,48,87,46,"phone"],[101,53,87,0],[101,55,87,53],[102,0,88,2],[102,11,88,9],[102,21,88,10,"dispatch"],[102,29,88,9],[102,31,88,23],[103,0,89,4,"dispatch"],[103,6,89,4,"dispatch"],[103,14,89,12],[103,15,89,13,"request"],[103,22,89,20],[103,24,89,12],[103,25,89,4],[105,0,91,4,"authService"],[105,24,92,7,"signup"],[105,30,91,4],[105,31,92,14,"email"],[105,36,91,4],[105,38,92,21,"first_name"],[105,48,91,4],[105,50,92,33,"last_name"],[105,59,91,4],[105,61,92,44,"phone"],[105,66,91,4],[105,68,93,7,"then"],[105,72,91,4],[105,73,93,12],[105,83,93,13,"res"],[105,86,93,12],[105,88,93,21],[106,0,95,8],[106,12,95,11,"res"],[106,15,95,14],[106,16,95,15,"status"],[106,22,95,11],[106,26,95,25],[106,29,95,8],[106,31,95,29],[107,0,96,10,"dispatch"],[107,10,96,10,"dispatch"],[107,18,96,18],[107,19,96,19,"success"],[107,26,96,26],[107,69,96,67,"email"],[107,74,96,26],[107,75,96,18],[107,76,96,10],[108,0,97,9],[108,9,95,8],[108,15,97,14],[109,0,99,10,"dispatch"],[109,10,99,10,"dispatch"],[109,18,99,18],[109,19,99,19,"failure"],[109,26,99,26],[109,27,99,27,"res"],[109,30,99,30],[109,31,99,31,"error"],[109,36,99,26],[109,37,99,18],[109,38,99,10],[110,0,100,9],[111,0,103,7],[111,7,91,4],[112,0,105,3],[112,5,88,2],[114,0,107,2],[114,13,107,11,"request"],[114,20,107,2],[114,23,107,21],[115,0,108,4],[115,13,108,11],[116,0,108,13,"type"],[116,8,108,13,"type"],[116,12,108,17],[116,14,108,19,"authConstants"],[116,43,108,33,"REGISTER_REQUEST"],[117,0,108,11],[117,7,108,4],[118,0,109,3],[120,0,110,2],[120,13,110,11,"success"],[120,20,110,2],[120,21,110,19,"msg"],[120,24,110,2],[120,26,110,24],[121,0,111,4],[121,13,111,11],[122,0,111,13,"type"],[122,8,111,13,"type"],[122,12,111,17],[122,14,111,19,"authConstants"],[122,43,111,33,"REGISTER_SUCCESS"],[122,59,111,11],[123,0,111,51,"toastMessage"],[123,8,111,51,"toastMessage"],[123,20,111,63],[123,22,111,65,"msg"],[124,0,111,11],[124,7,111,4],[125,0,112,3],[127,0,113,2],[127,13,113,11,"failure"],[127,20,113,2],[127,21,113,19,"error"],[127,26,113,2],[127,28,113,26],[128,0,114,4],[128,13,114,11],[129,0,114,13,"type"],[129,8,114,13,"type"],[129,12,114,17],[129,14,114,19,"authConstants"],[129,43,114,33,"REGISTER_FAILURE"],[129,59,114,11],[130,0,114,51,"error"],[130,8,114,51,"error"],[130,13,114,56],[130,15,114,58,"error"],[131,0,114,11],[131,7,114,4],[132,0,115,3],[133,0,117,1],[135,0,119,0],[135,11,119,9,"getUserToken"],[135,23,119,0],[135,26,119,24],[136,0,120,2],[136,11,120,9],[136,21,120,10,"dispatch"],[136,29,120,9],[136,31,120,23],[137,0,121,4,"authService"],[137,24,122,7,"getItem"],[137,31,121,4],[137,32,122,15],[137,39,121,4],[137,41,123,7,"then"],[137,45,121,4],[137,46,123,12],[137,56,123,13,"value"],[137,61,123,12],[137,63,123,23],[138,0,124,8,"dispatch"],[138,8,124,8,"dispatch"],[138,16,124,16],[138,17,124,17,"getToken"],[138,25,124,25],[138,26,124,26,"value"],[138,31,124,25],[138,32,124,16],[138,33,124,8],[139,0,125,7],[139,7,121,4],[139,9,126,7,"catch"],[139,14,121,4],[139,15,126,13],[139,25,126,14,"err"],[139,28,126,13],[139,30,126,22],[139,31,127,7],[139,32,121,4],[140,0,128,3],[140,5,120,2],[142,0,130,2],[142,13,130,11,"getToken"],[142,21,130,2],[142,22,130,20,"token"],[142,27,130,2],[142,29,130,27],[143,0,131,4],[143,13,131,11],[144,0,131,13,"type"],[144,8,131,13,"type"],[144,12,131,17],[144,14,131,19,"authConstants"],[144,43,131,33,"GET_TOKEN"],[144,52,131,11],[145,0,131,44,"token"],[145,8,131,44,"token"],[145,13,131,49],[145,15,131,44,"token"],[146,0,131,11],[146,7,131,4],[147,0,132,3],[148,0,133,1],[150,0,135,0],[150,11,135,9,"saveUserToken"],[150,24,135,0],[150,25,135,23,"token"],[150,30,135,0],[150,32,135,30],[151,0,136,2],[151,11,136,9],[151,21,136,10,"dispatch"],[151,29,136,9],[151,31,136,23],[152,0,137,4,"authService"],[152,24,137,16,"saveItem"],[152,32,137,4],[152,33,137,25],[152,40,137,4],[152,42,137,34,"token"],[152,47,137,4],[152,49,137,41,"then"],[152,53,137,4],[152,54,137,46],[152,64,137,47,"token"],[152,69,137,46],[152,71,137,57],[152,72,138,5],[152,73,137,4],[153,0,139,3],[153,5,136,2],[155,0,141,2],[155,13,141,11,"saveToken"],[155,22,141,2],[155,23,141,21,"token"],[155,28,141,2],[155,30,141,28],[156,0,142,4],[156,13,142,11],[157,0,142,13,"type"],[157,8,142,13,"type"],[157,12,142,17],[157,14,142,19,"authConstants"],[157,43,142,33,"SAVE_TOKEN"],[157,53,142,11],[158,0,142,45,"token"],[158,8,142,45,"token"],[158,13,142,50],[158,15,142,45,"token"],[159,0,142,11],[159,7,142,4],[160,0,143,3],[161,0,144,1],[163,0,148,0],[163,11,148,9,"deleteUserToken"],[163,26,148,0],[163,29,148,27],[164,0,149,2],[164,11,149,9],[164,21,149,10,"dispatch"],[164,29,149,9],[164,31,149,23],[165,0,150,4,"authService"],[165,24,150,16,"deleteItem"],[165,34,150,4],[165,35,150,27],[165,42,150,4],[165,44,150,36,"then"],[165,48,150,4],[165,49,150,41],[165,59,150,42,"value"],[165,64,150,41],[165,66,150,52],[166,0,151,6,"dispatch"],[166,8,151,6,"dispatch"],[166,16,151,14],[166,17,151,15,"deleteToken"],[166,28,151,26],[166,30,151,14],[166,31,151,6],[167,0,152,5],[167,7,150,4],[168,0,153,3],[168,5,149,2],[170,0,155,2],[170,13,155,11,"deleteToken"],[170,24,155,2],[170,27,155,25],[171,0,156,4],[171,13,156,11],[172,0,156,13,"type"],[172,8,156,13,"type"],[172,12,156,17],[172,14,156,19,"authConstants"],[172,43,156,33,"DELETE_TOKEN"],[173,0,156,11],[173,7,156,4],[174,0,157,3],[175,0,158,1],[177,0,160,0],[177,11,160,9,"clearErrors"],[177,22,160,0],[177,25,160,23],[178,0,161,2],[178,11,161,9],[179,0,162,4,"type"],[179,6,162,4,"type"],[179,10,162,8],[179,12,162,10,"authConstants"],[179,41,162,24,"CLEAR_ERRORS"],[180,0,161,9],[180,5,161,2],[181,0,164,1],[183,0,166,0],[183,11,166,9,"clearToastMessage"],[183,28,166,0],[183,31,166,29],[184,0,167,2],[184,11,167,9],[185,0,168,4,"type"],[185,6,168,4,"type"],[185,10,168,8],[185,12,168,10,"authConstants"],[185,41,168,24,"CLEAR_TOAST"],[186,0,167,9],[186,5,167,2],[187,0,170,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","resetPassword","authService.resetPassword.then$argument_0","signup","authService.signup.then$argument_0","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearErrors","clearToastMessage"],"mappings":"AAA;ACkB;SCC;YCK;ODW;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOK;OPW;GME;EJE;GIE;EHC;GGE;EFC;GEE;CRE;AUE;SRC;YSK;OTU;GQE;ENE;GME;ELC;GKE;EJC;GIE;CVE;AYE;SVC;YWG;OXE;aYC;OZC;GUC;EGE;GHE;CZC;AgBE;SdC;8CeC;KfC;GcC;ETE;GSE;ChBC;AkBI;ShBC;yCiBC;KjBE;GgBC;EEE;GFE;ClBC;AqBE;CrBI;AsBE;CtBI"}},"type":"js/module"}]}