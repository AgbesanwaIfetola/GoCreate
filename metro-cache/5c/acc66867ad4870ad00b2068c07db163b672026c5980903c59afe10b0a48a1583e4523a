{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          dispatch(saveUserToken(res.data.token));\n          dispatch(success());\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        dispatch(saveToken(token));\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":115,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"getUserToken"],[17,4,8,2,"getUserToken"],[17,16,8,14],[17,18,8,2,"getUserToken"],[17,30,6,27],[18,0,9,2,"saveUserToken"],[18,4,9,2,"saveUserToken"],[18,17,9,15],[18,19,9,2,"saveUserToken"],[18,32,6,27],[19,0,10,2,"deleteUserToken"],[19,4,10,2,"deleteUserToken"],[19,19,10,17],[19,21,10,2,"deleteUserToken"],[19,36,6,27],[20,0,11,2,"clearLoginErrors"],[20,4,11,2,"clearLoginErrors"],[20,20,11,18],[20,22,11,2,"clearLoginErrors"],[21,0,6,27],[21,3,6,7],[24,0,15,0],[24,11,15,9,"login"],[24,16,15,0],[24,17,15,15,"username"],[24,25,15,0],[24,27,15,25,"password"],[24,35,15,0],[24,37,15,35],[25,0,16,2],[25,11,16,9],[25,21,16,10,"dispatch"],[25,29,16,9],[25,31,16,23],[26,0,17,4,"dispatch"],[26,6,17,4,"dispatch"],[26,14,17,12],[26,15,17,13,"request"],[26,22,17,20],[26,23,17,21,"username"],[26,31,17,20],[26,32,17,12],[26,33,17,4],[28,0,19,4,"authService"],[28,24,20,7,"login"],[28,29,19,4],[28,30,20,13,"username"],[28,38,19,4],[28,40,20,23,"password"],[28,48,19,4],[28,50,21,7,"then"],[28,54,19,4],[28,55,21,12],[28,65,21,13,"res"],[28,68,21,12],[28,70,21,21],[29,0,22,8],[29,12,22,11,"res"],[29,15,22,14],[29,16,22,15,"status"],[29,22,22,11],[29,26,22,25],[29,29,22,8],[29,31,22,29],[30,0,23,10,"dispatch"],[30,10,23,10,"dispatch"],[30,18,23,18],[30,19,23,19,"saveUserToken"],[30,32,23,32],[30,33,23,33,"res"],[30,36,23,36],[30,37,23,37,"data"],[30,41,23,33],[30,42,23,42,"token"],[30,47,23,32],[30,48,23,18],[30,49,23,10],[31,0,24,10,"dispatch"],[31,10,24,10,"dispatch"],[31,18,24,18],[31,19,24,19,"success"],[31,26,24,26],[31,28,24,18],[31,29,24,10],[32,0,25,9],[32,9,22,8],[32,15,25,14],[33,0,26,10,"dispatch"],[33,10,26,10,"dispatch"],[33,18,26,18],[33,19,26,19,"failure"],[33,26,26,26],[33,27,26,27,"res"],[33,30,26,30],[33,31,26,31,"error"],[33,36,26,26],[33,37,26,18],[33,38,26,10],[34,0,27,9],[35,0,30,7],[35,7,19,4],[36,0,32,3],[36,5,16,2],[38,0,34,2],[38,13,34,11,"request"],[38,20,34,2],[38,21,34,19,"user"],[38,25,34,2],[38,27,34,25],[39,0,35,4],[39,13,35,11],[40,0,35,13,"type"],[40,8,35,13,"type"],[40,12,35,17],[40,14,35,19,"authConstants"],[40,43,35,33,"LOGIN_REQUEST"],[41,0,35,11],[41,7,35,4],[42,0,36,3],[44,0,37,2],[44,13,37,11,"success"],[44,20,37,2],[44,21,37,19,"user"],[44,25,37,2],[44,27,37,25],[45,0,38,4],[45,13,38,11],[46,0,38,13,"type"],[46,8,38,13,"type"],[46,12,38,17],[46,14,38,19,"authConstants"],[46,43,38,33,"LOGIN_SUCCESS"],[47,0,38,11],[47,7,38,4],[48,0,39,3],[50,0,40,2],[50,13,40,11,"failure"],[50,20,40,2],[50,21,40,19,"error"],[50,26,40,2],[50,28,40,26],[51,0,41,4],[51,13,41,11],[52,0,41,13,"type"],[52,8,41,13,"type"],[52,12,41,17],[52,14,41,19,"authConstants"],[52,43,41,33,"LOGIN_FAILURE"],[52,56,41,11],[53,0,41,48,"error"],[53,8,41,48,"error"],[53,13,41,53],[53,15,41,48,"error"],[54,0,41,11],[54,7,41,4],[55,0,42,3],[57,0,43,2],[57,13,43,11,"saveToken"],[57,22,43,2],[57,25,43,23],[58,0,44,4],[58,13,44,11],[59,0,44,13,"type"],[59,8,44,13,"type"],[59,12,44,17],[59,14,44,19,"authConstants"],[59,43,44,33,"SAVE_TOKEN"],[60,0,44,11],[60,7,44,4],[61,0,45,3],[62,0,46,1],[64,0,48,0],[64,11,48,9,"getUserToken"],[64,23,48,0],[64,26,48,24],[65,0,49,2],[65,11,49,9],[65,21,49,10,"dispatch"],[65,29,49,9],[65,31,49,23],[66,0,50,4,"authService"],[66,24,51,7,"getItem"],[66,31,50,4],[66,32,51,15],[66,39,50,4],[66,41,52,7,"then"],[66,45,50,4],[66,46,52,12],[66,56,52,13,"value"],[66,61,52,12],[66,63,52,23],[67,0,53,8,"dispatch"],[67,8,53,8,"dispatch"],[67,16,53,16],[67,17,53,17,"getToken"],[67,25,53,25],[67,26,53,26,"value"],[67,31,53,25],[67,32,53,16],[67,33,53,8],[68,0,54,7],[68,7,50,4],[68,9,55,7,"catch"],[68,14,50,4],[68,15,55,13],[68,25,55,14,"err"],[68,28,55,13],[68,30,55,22],[69,0,56,8,"console"],[69,8,56,8,"console"],[69,15,56,15],[69,16,56,16,"log"],[69,19,56,8],[69,20,56,20,"err"],[69,23,56,8],[70,0,57,7],[70,7,50,4],[71,0,58,3],[71,5,49,2],[73,0,60,2],[73,13,60,11,"getToken"],[73,21,60,2],[73,22,60,20,"token"],[73,27,60,2],[73,29,60,27],[74,0,61,4],[74,13,61,11],[75,0,61,13,"type"],[75,8,61,13,"type"],[75,12,61,17],[75,14,61,19,"authConstants"],[75,43,61,33,"GET_TOKEN"],[75,52,61,11],[76,0,61,44,"token"],[76,8,61,44,"token"],[76,13,61,49],[76,15,61,44,"token"],[77,0,61,11],[77,7,61,4],[78,0,62,3],[79,0,63,1],[81,0,65,0],[81,11,65,9,"saveUserToken"],[81,24,65,0],[81,25,65,23,"token"],[81,30,65,0],[81,32,65,30],[82,0,66,2],[82,11,66,9],[82,21,66,10,"dispatch"],[82,29,66,9],[82,31,66,23],[83,0,67,4,"authService"],[83,24,67,16,"saveItem"],[83,32,67,4],[83,33,67,25],[83,40,67,4],[83,42,67,34,"token"],[83,47,67,4],[83,49,67,41,"then"],[83,53,67,4],[83,54,67,46],[83,64,67,47,"token"],[83,69,67,46],[83,71,67,57],[84,0,69,6,"dispatch"],[84,8,69,6,"dispatch"],[84,16,69,14],[84,17,69,15,"saveToken"],[84,26,69,24],[84,27,69,25,"token"],[84,32,69,24],[84,33,69,14],[84,34,69,6],[85,0,70,5],[85,7,67,4],[86,0,71,3],[86,5,66,2],[88,0,73,2],[88,13,73,11,"saveToken"],[88,22,73,2],[88,23,73,21,"token"],[88,28,73,2],[88,30,73,28],[89,0,74,4],[89,13,74,11],[90,0,74,13,"type"],[90,8,74,13,"type"],[90,12,74,17],[90,14,74,19,"authConstants"],[90,43,74,33,"SAVE_TOKEN"],[90,53,74,11],[91,0,74,45,"token"],[91,8,74,45,"token"],[91,13,74,50],[91,15,74,45,"token"],[92,0,74,11],[92,7,74,4],[93,0,75,3],[94,0,76,1],[96,0,80,0],[96,11,80,9,"deleteUserToken"],[96,26,80,0],[96,29,80,27],[97,0,81,2],[97,11,81,9],[97,21,81,10,"dispatch"],[97,29,81,9],[97,31,81,23],[98,0,82,4,"authService"],[98,24,82,16,"deleteItem"],[98,34,82,4],[98,35,82,27],[98,42,82,4],[98,44,82,36,"then"],[98,48,82,4],[98,49,82,41],[98,59,82,42,"value"],[98,64,82,41],[98,66,82,52],[99,0,83,6,"dispatch"],[99,8,83,6,"dispatch"],[99,16,83,14],[99,17,83,15,"deleteToken"],[99,28,83,26],[99,30,83,14],[99,31,83,6],[100,0,84,5],[100,7,82,4],[101,0,85,3],[101,5,81,2],[103,0,87,2],[103,13,87,11,"deleteToken"],[103,24,87,2],[103,27,87,25],[104,0,88,4],[104,13,88,11],[105,0,88,13,"type"],[105,8,88,13,"type"],[105,12,88,17],[105,14,88,19,"authConstants"],[105,43,88,33,"DELETE_TOKEN"],[106,0,88,11],[106,7,88,4],[107,0,89,3],[108,0,90,1],[110,0,92,0],[110,11,92,9,"clearLoginErrors"],[110,27,92,0],[110,30,92,28],[111,0,93,2],[111,11,93,9],[112,0,94,4,"type"],[112,6,94,4,"type"],[112,10,94,8],[112,12,94,10,"authConstants"],[112,41,94,24,"CLEAR_LOGIN_ERRORS"],[113,0,93,9],[113,5,93,2],[114,0,96,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACc;SCC;YCK;ODS;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOG;OPE;aQC;ORE;GMC;EGE;GHE;CRC;AYE;SVC;8CWC;KXG;GUC;ELE;GKE;CZC;AcI;SZC;yCaC;KbE;GYC;EEE;GFE;CdC;AiBE;CjBI"}},"type":"js/module"}]}