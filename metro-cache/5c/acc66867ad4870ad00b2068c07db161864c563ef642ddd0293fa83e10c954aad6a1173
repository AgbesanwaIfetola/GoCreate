{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    resetPassword: resetPassword,\n    signup: signup,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearErrors: clearErrors,\n    clearToastMessage: clearToastMessage\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          console.log(\"success\");\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function resetPassword(email) {\n    return function (dispatch) {\n      dispatch(request(email));\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(\"Your reset link has been sent to \" + email));\n        } else {\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_FAILURE\n      };\n    }\n  }\n\n  function signup(email, first_name, last_name, phone) {\n    return function (dispatch) {\n      dispatch(request());\n\n      _auth.authService.signup(email, first_name, last_name, phone).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(\"A confirmation link has been sent to \" + email));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.REGISTER_REQUEST\n      };\n    }\n\n    function success(msg) {\n      return {\n        type: _authConstants.authConstants.REGISTER_SUCCESS,\n        toastMessage: msg\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.REGISTER_FAILURE,\n        error: error\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {});\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {});\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_ERRORS\n    };\n  }\n\n  function clearToastMessage() {\n    return {\n      type: _authConstants.authConstants.CLEAR_TOAST\n    };\n  }\n});","lineCount":189,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"resetPassword"],[17,4,8,2,"resetPassword"],[17,17,8,15],[17,19,8,2,"resetPassword"],[17,32,6,27],[18,0,9,2,"signup"],[18,4,9,2,"signup"],[18,10,9,8],[18,12,9,2,"signup"],[18,18,6,27],[19,0,10,2,"getUserToken"],[19,4,10,2,"getUserToken"],[19,16,10,14],[19,18,10,2,"getUserToken"],[19,30,6,27],[20,0,11,2,"saveUserToken"],[20,4,11,2,"saveUserToken"],[20,17,11,15],[20,19,11,2,"saveUserToken"],[20,32,6,27],[21,0,12,2,"deleteUserToken"],[21,4,12,2,"deleteUserToken"],[21,19,12,17],[21,21,12,2,"deleteUserToken"],[21,36,6,27],[22,0,13,2,"clearErrors"],[22,4,13,2,"clearErrors"],[22,15,13,13],[22,17,13,2,"clearErrors"],[22,28,6,27],[23,0,14,2,"clearToastMessage"],[23,4,14,2,"clearToastMessage"],[23,21,14,19],[23,23,14,2,"clearToastMessage"],[24,0,6,27],[24,3,6,7],[27,0,19,0],[27,11,19,9,"login"],[27,16,19,0],[27,17,19,15,"username"],[27,25,19,0],[27,27,19,25,"password"],[27,35,19,0],[27,37,19,35],[28,0,20,2],[28,11,20,9],[28,21,20,10,"dispatch"],[28,29,20,9],[28,31,20,23],[29,0,21,4,"dispatch"],[29,6,21,4,"dispatch"],[29,14,21,12],[29,15,21,13,"request"],[29,22,21,20],[29,23,21,21,"username"],[29,31,21,20],[29,32,21,12],[29,33,21,4],[31,0,23,4,"authService"],[31,24,24,7,"login"],[31,29,23,4],[31,30,24,13,"username"],[31,38,23,4],[31,40,24,23,"password"],[31,48,23,4],[31,50,25,7,"then"],[31,54,23,4],[31,55,25,12],[31,65,25,13,"res"],[31,68,25,12],[31,70,25,21],[32,0,27,8],[32,12,27,11,"res"],[32,15,27,14],[32,16,27,15,"status"],[32,22,27,11],[32,26,27,25],[32,29,27,8],[32,31,27,29],[33,0,28,10,"console"],[33,10,28,10,"console"],[33,17,28,17],[33,18,28,18,"log"],[33,21,28,10],[33,22,28,22],[33,31,28,10],[34,0,29,10,"dispatch"],[34,10,29,10,"dispatch"],[34,18,29,18],[34,19,29,19,"success"],[34,26,29,26],[34,27,29,27,"res"],[34,30,29,30],[34,31,29,31,"data"],[34,35,29,27],[34,36,29,36,"token"],[34,41,29,26],[34,42,29,18],[34,43,29,10],[35,0,30,10,"dispatch"],[35,10,30,10,"dispatch"],[35,18,30,18],[35,19,30,19,"saveUserToken"],[35,32,30,32],[35,33,30,33,"res"],[35,36,30,36],[35,37,30,37,"data"],[35,41,30,33],[35,42,30,42,"token"],[35,47,30,32],[35,48,30,18],[35,49,30,10],[36,0,31,9],[36,9,27,8],[36,15,31,14],[37,0,32,10,"dispatch"],[37,10,32,10,"dispatch"],[37,18,32,18],[37,19,32,19,"failure"],[37,26,32,26],[37,27,32,27,"res"],[37,30,32,30],[37,31,32,31,"error"],[37,36,32,26],[37,37,32,18],[37,38,32,10],[38,0,33,9],[39,0,36,7],[39,7,23,4],[40,0,38,3],[40,5,20,2],[42,0,40,2],[42,13,40,11,"request"],[42,20,40,2],[42,21,40,19,"user"],[42,25,40,2],[42,27,40,25],[43,0,41,4],[43,13,41,11],[44,0,41,13,"type"],[44,8,41,13,"type"],[44,12,41,17],[44,14,41,19,"authConstants"],[44,43,41,33,"LOGIN_REQUEST"],[45,0,41,11],[45,7,41,4],[46,0,42,3],[48,0,43,2],[48,13,43,11,"success"],[48,20,43,2],[48,21,43,19,"token"],[48,26,43,2],[48,28,43,26],[49,0,44,4],[49,13,44,11],[50,0,44,13,"type"],[50,8,44,13,"type"],[50,12,44,17],[50,14,44,19,"authConstants"],[50,43,44,33,"LOGIN_SUCCESS"],[50,56,44,11],[51,0,44,48,"token"],[51,8,44,48,"token"],[51,13,44,53],[51,15,44,48,"token"],[52,0,44,11],[52,7,44,4],[53,0,45,3],[55,0,46,2],[55,13,46,11,"failure"],[55,20,46,2],[55,21,46,19,"error"],[55,26,46,2],[55,28,46,26],[56,0,47,4],[56,13,47,11],[57,0,47,13,"type"],[57,8,47,13,"type"],[57,12,47,17],[57,14,47,19,"authConstants"],[57,43,47,33,"LOGIN_FAILURE"],[57,56,47,11],[58,0,47,48,"error"],[58,8,47,48,"error"],[58,13,47,53],[58,15,47,48,"error"],[59,0,47,11],[59,7,47,4],[60,0,48,3],[62,0,49,2],[62,13,49,11,"saveToken"],[62,22,49,2],[62,25,49,23],[63,0,50,4],[63,13,50,11],[64,0,50,13,"type"],[64,8,50,13,"type"],[64,12,50,17],[64,14,50,19,"authConstants"],[64,43,50,33,"SAVE_TOKEN"],[65,0,50,11],[65,7,50,4],[66,0,51,3],[67,0,52,1],[69,0,54,0],[69,11,54,9,"resetPassword"],[69,24,54,0],[69,25,54,23,"email"],[69,30,54,0],[69,32,54,30],[70,0,55,2],[70,11,55,9],[70,21,55,10,"dispatch"],[70,29,55,9],[70,31,55,23],[71,0,56,4,"dispatch"],[71,6,56,4,"dispatch"],[71,14,56,12],[71,15,56,13,"request"],[71,22,56,20],[71,23,56,21,"email"],[71,28,56,20],[71,29,56,12],[71,30,56,4],[73,0,58,4,"authService"],[73,24,59,7,"resetPassword"],[73,37,58,4],[73,38,59,21,"email"],[73,43,58,4],[73,45,60,7,"then"],[73,49,58,4],[73,50,60,12],[73,60,60,13,"res"],[73,63,60,12],[73,65,60,21],[74,0,62,8],[74,12,62,11,"res"],[74,15,62,14],[74,16,62,15,"status"],[74,22,62,11],[74,26,62,25],[74,29,62,8],[74,31,62,29],[75,0,65,10,"dispatch"],[75,10,65,10,"dispatch"],[75,18,65,18],[75,19,65,19,"success"],[75,26,65,26],[75,65,65,63,"email"],[75,70,65,26],[75,71,65,18],[75,72,65,10],[76,0,66,9],[76,9,62,8],[76,15,66,14],[77,0,67,10,"dispatch"],[77,10,67,10,"dispatch"],[77,18,67,18],[77,19,67,19,"failure"],[77,26,67,26],[77,28,67,18],[77,29,67,10],[78,0,68,9],[79,0,71,7],[79,7,58,4],[80,0,73,3],[80,5,55,2],[82,0,75,2],[82,13,75,11,"request"],[82,20,75,2],[82,23,75,21],[83,0,76,4],[83,13,76,11],[84,0,76,13,"type"],[84,8,76,13,"type"],[84,12,76,17],[84,14,76,19,"authConstants"],[84,43,76,33,"FORGOTPASSWORD_REQUEST"],[85,0,76,11],[85,7,76,4],[86,0,77,3],[88,0,78,2],[88,13,78,11,"success"],[88,20,78,2],[88,21,78,19,"msg"],[88,24,78,2],[88,26,78,24],[89,0,79,4],[89,13,79,11],[90,0,79,13,"type"],[90,8,79,13,"type"],[90,12,79,17],[90,14,79,19,"authConstants"],[90,43,79,33,"FORGOTPASSWORD_SUCCESS"],[90,65,79,11],[91,0,79,57,"toastMessage"],[91,8,79,57,"toastMessage"],[91,20,79,69],[91,22,79,71,"msg"],[92,0,79,11],[92,7,79,4],[93,0,80,3],[95,0,81,2],[95,13,81,11,"failure"],[95,20,81,2],[95,21,81,19,"error"],[95,26,81,2],[95,28,81,26],[96,0,82,4],[96,13,82,11],[97,0,82,13,"type"],[97,8,82,13,"type"],[97,12,82,17],[97,14,82,19,"authConstants"],[97,43,82,33,"FORGOTPASSWORD_FAILURE"],[98,0,82,11],[98,7,82,4],[99,0,83,3],[100,0,85,1],[102,0,87,0],[102,11,87,9,"signup"],[102,17,87,0],[102,18,87,16,"email"],[102,23,87,0],[102,25,87,23,"first_name"],[102,35,87,0],[102,37,87,35,"last_name"],[102,46,87,0],[102,48,87,46,"phone"],[102,53,87,0],[102,55,87,53],[103,0,88,2],[103,11,88,9],[103,21,88,10,"dispatch"],[103,29,88,9],[103,31,88,23],[104,0,89,4,"dispatch"],[104,6,89,4,"dispatch"],[104,14,89,12],[104,15,89,13,"request"],[104,22,89,20],[104,24,89,12],[104,25,89,4],[106,0,91,4,"authService"],[106,24,92,7,"signup"],[106,30,91,4],[106,31,92,14,"email"],[106,36,91,4],[106,38,92,21,"first_name"],[106,48,91,4],[106,50,92,33,"last_name"],[106,59,91,4],[106,61,92,44,"phone"],[106,66,91,4],[106,68,93,7,"then"],[106,72,91,4],[106,73,93,12],[106,83,93,13,"res"],[106,86,93,12],[106,88,93,21],[107,0,95,8],[107,12,95,11,"res"],[107,15,95,14],[107,16,95,15,"status"],[107,22,95,11],[107,26,95,25],[107,29,95,8],[107,31,95,29],[108,0,96,10,"dispatch"],[108,10,96,10,"dispatch"],[108,18,96,18],[108,19,96,19,"success"],[108,26,96,26],[108,69,96,67,"email"],[108,74,96,26],[108,75,96,18],[108,76,96,10],[109,0,97,9],[109,9,95,8],[109,15,97,14],[110,0,99,10,"dispatch"],[110,10,99,10,"dispatch"],[110,18,99,18],[110,19,99,19,"failure"],[110,26,99,26],[110,27,99,27,"res"],[110,30,99,30],[110,31,99,31,"error"],[110,36,99,26],[110,37,99,18],[110,38,99,10],[111,0,100,9],[112,0,103,7],[112,7,91,4],[113,0,105,3],[113,5,88,2],[115,0,107,2],[115,13,107,11,"request"],[115,20,107,2],[115,23,107,21],[116,0,108,4],[116,13,108,11],[117,0,108,13,"type"],[117,8,108,13,"type"],[117,12,108,17],[117,14,108,19,"authConstants"],[117,43,108,33,"REGISTER_REQUEST"],[118,0,108,11],[118,7,108,4],[119,0,109,3],[121,0,110,2],[121,13,110,11,"success"],[121,20,110,2],[121,21,110,19,"msg"],[121,24,110,2],[121,26,110,24],[122,0,111,4],[122,13,111,11],[123,0,111,13,"type"],[123,8,111,13,"type"],[123,12,111,17],[123,14,111,19,"authConstants"],[123,43,111,33,"REGISTER_SUCCESS"],[123,59,111,11],[124,0,111,51,"toastMessage"],[124,8,111,51,"toastMessage"],[124,20,111,63],[124,22,111,65,"msg"],[125,0,111,11],[125,7,111,4],[126,0,112,3],[128,0,113,2],[128,13,113,11,"failure"],[128,20,113,2],[128,21,113,19,"error"],[128,26,113,2],[128,28,113,26],[129,0,114,4],[129,13,114,11],[130,0,114,13,"type"],[130,8,114,13,"type"],[130,12,114,17],[130,14,114,19,"authConstants"],[130,43,114,33,"REGISTER_FAILURE"],[130,59,114,11],[131,0,114,51,"error"],[131,8,114,51,"error"],[131,13,114,56],[131,15,114,58,"error"],[132,0,114,11],[132,7,114,4],[133,0,115,3],[134,0,117,1],[136,0,119,0],[136,11,119,9,"getUserToken"],[136,23,119,0],[136,26,119,24],[137,0,120,2],[137,11,120,9],[137,21,120,10,"dispatch"],[137,29,120,9],[137,31,120,23],[138,0,121,4,"authService"],[138,24,122,7,"getItem"],[138,31,121,4],[138,32,122,15],[138,39,121,4],[138,41,123,7,"then"],[138,45,121,4],[138,46,123,12],[138,56,123,13,"value"],[138,61,123,12],[138,63,123,23],[139,0,124,8,"dispatch"],[139,8,124,8,"dispatch"],[139,16,124,16],[139,17,124,17,"getToken"],[139,25,124,25],[139,26,124,26,"value"],[139,31,124,25],[139,32,124,16],[139,33,124,8],[140,0,125,7],[140,7,121,4],[140,9,126,7,"catch"],[140,14,121,4],[140,15,126,13],[140,25,126,14,"err"],[140,28,126,13],[140,30,126,22],[140,31,127,7],[140,32,121,4],[141,0,128,3],[141,5,120,2],[143,0,130,2],[143,13,130,11,"getToken"],[143,21,130,2],[143,22,130,20,"token"],[143,27,130,2],[143,29,130,27],[144,0,131,4],[144,13,131,11],[145,0,131,13,"type"],[145,8,131,13,"type"],[145,12,131,17],[145,14,131,19,"authConstants"],[145,43,131,33,"GET_TOKEN"],[145,52,131,11],[146,0,131,44,"token"],[146,8,131,44,"token"],[146,13,131,49],[146,15,131,44,"token"],[147,0,131,11],[147,7,131,4],[148,0,132,3],[149,0,133,1],[151,0,135,0],[151,11,135,9,"saveUserToken"],[151,24,135,0],[151,25,135,23,"token"],[151,30,135,0],[151,32,135,30],[152,0,136,2],[152,11,136,9],[152,21,136,10,"dispatch"],[152,29,136,9],[152,31,136,23],[153,0,137,4,"authService"],[153,24,137,16,"saveItem"],[153,32,137,4],[153,33,137,25],[153,40,137,4],[153,42,137,34,"token"],[153,47,137,4],[153,49,137,41,"then"],[153,53,137,4],[153,54,137,46],[153,64,137,47,"token"],[153,69,137,46],[153,71,137,57],[153,72,138,5],[153,73,137,4],[154,0,139,3],[154,5,136,2],[156,0,141,2],[156,13,141,11,"saveToken"],[156,22,141,2],[156,23,141,21,"token"],[156,28,141,2],[156,30,141,28],[157,0,142,4],[157,13,142,11],[158,0,142,13,"type"],[158,8,142,13,"type"],[158,12,142,17],[158,14,142,19,"authConstants"],[158,43,142,33,"SAVE_TOKEN"],[158,53,142,11],[159,0,142,45,"token"],[159,8,142,45,"token"],[159,13,142,50],[159,15,142,45,"token"],[160,0,142,11],[160,7,142,4],[161,0,143,3],[162,0,144,1],[164,0,148,0],[164,11,148,9,"deleteUserToken"],[164,26,148,0],[164,29,148,27],[165,0,149,2],[165,11,149,9],[165,21,149,10,"dispatch"],[165,29,149,9],[165,31,149,23],[166,0,150,4,"authService"],[166,24,150,16,"deleteItem"],[166,34,150,4],[166,35,150,27],[166,42,150,4],[166,44,150,36,"then"],[166,48,150,4],[166,49,150,41],[166,59,150,42,"value"],[166,64,150,41],[166,66,150,52],[167,0,151,6,"dispatch"],[167,8,151,6,"dispatch"],[167,16,151,14],[167,17,151,15,"deleteToken"],[167,28,151,26],[167,30,151,14],[167,31,151,6],[168,0,152,5],[168,7,150,4],[169,0,153,3],[169,5,149,2],[171,0,155,2],[171,13,155,11,"deleteToken"],[171,24,155,2],[171,27,155,25],[172,0,156,4],[172,13,156,11],[173,0,156,13,"type"],[173,8,156,13,"type"],[173,12,156,17],[173,14,156,19,"authConstants"],[173,43,156,33,"DELETE_TOKEN"],[174,0,156,11],[174,7,156,4],[175,0,157,3],[176,0,158,1],[178,0,160,0],[178,11,160,9,"clearErrors"],[178,22,160,0],[178,25,160,23],[179,0,161,2],[179,11,161,9],[180,0,162,4,"type"],[180,6,162,4,"type"],[180,10,162,8],[180,12,162,10,"authConstants"],[180,41,162,24,"CLEAR_ERRORS"],[181,0,161,9],[181,5,161,2],[182,0,164,1],[184,0,166,0],[184,11,166,9,"clearToastMessage"],[184,28,166,0],[184,31,166,29],[185,0,167,2],[185,11,167,9],[186,0,168,4,"type"],[186,6,168,4,"type"],[186,10,168,8],[186,12,168,10,"authConstants"],[186,41,168,24,"CLEAR_TOAST"],[187,0,167,9],[187,5,167,2],[188,0,170,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","resetPassword","authService.resetPassword.then$argument_0","signup","authService.signup.then$argument_0","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearErrors","clearToastMessage"],"mappings":"AAA;ACkB;SCC;YCK;ODW;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOK;OPW;GME;EJE;GIE;EHC;GGE;EFC;GEE;CRE;AUE;SRC;YSK;OTU;GQE;ENE;GME;ELC;GKE;EJC;GIE;CVE;AYE;SVC;YWG;OXE;aYC;OZC;GUC;EGE;GHE;CZC;AgBE;SdC;8CeC;KfC;GcC;ETE;GSE;ChBC;AkBI;ShBC;yCiBC;KjBE;GgBC;EEE;GFE;ClBC;AqBE;CrBI;AsBE;CtBI"}},"type":"js/module"}]}