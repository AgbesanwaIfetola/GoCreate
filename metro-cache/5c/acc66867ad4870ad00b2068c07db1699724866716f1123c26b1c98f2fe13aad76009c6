{"dependencies":[{"name":"../constants/authConstants","data":{"isAsync":false}},{"name":"../services/auth.services","data":{"isAsync":false}},{"name":"../actions/user.actions","data":{"isAsync":false}},{"name":"react-native","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.authActions = void 0;\n\n  var _authConstants = _$$_REQUIRE(_dependencyMap[0], \"../constants/authConstants\");\n\n  var _auth = _$$_REQUIRE(_dependencyMap[1], \"../services/auth.services\");\n\n  var _user = _$$_REQUIRE(_dependencyMap[2], \"../actions/user.actions\");\n\n  var _reactNative = _$$_REQUIRE(_dependencyMap[3], \"react-native\");\n\n  var authActions = {\n    login: login,\n    resetPassword: resetPassword,\n    getUserToken: getUserToken,\n    saveUserToken: saveUserToken,\n    deleteUserToken: deleteUserToken,\n    clearLoginErrors: clearLoginErrors\n  };\n  exports.authActions = authActions;\n\n  function login(username, password) {\n    return function (dispatch) {\n      dispatch(request(username));\n\n      _auth.authService.login(username, password).then(function (res) {\n        if (res.status == 200) {\n          dispatch(success(res.data.token));\n          dispatch(saveUserToken(res.data.token));\n        } else {\n          dispatch(failure(res.error));\n        }\n      });\n    };\n\n    function request(user) {\n      return {\n        type: _authConstants.authConstants.LOGIN_REQUEST\n      };\n    }\n\n    function success(token) {\n      return {\n        type: _authConstants.authConstants.LOGIN_SUCCESS,\n        token: token\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.LOGIN_FAILURE,\n        error: error\n      };\n    }\n\n    function saveToken() {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN\n      };\n    }\n  }\n\n  function resetPassword(email) {\n    return function (dispatch) {\n      dispatch(request(email));\n\n      _auth.authService.resetPassword(email).then(function (res) {\n        if (res.status == 201) {\n          console.log(\"email sent\");\n          dispatch(success());\n        } else {\n          console.log(\"reset failed\");\n          dispatch(failure());\n        }\n      });\n    };\n\n    function request() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_REQUEST\n      };\n    }\n\n    function success() {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_SUCCESS\n      };\n    }\n\n    function failure(error) {\n      return {\n        type: _authConstants.authConstants.FORGOTPASSWORD_FAILURE\n      };\n    }\n  }\n\n  function getUserToken() {\n    return function (dispatch) {\n      _auth.authService.getItem(\"token\").then(function (value) {\n        dispatch(getToken(value));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    function getToken(token) {\n      return {\n        type: _authConstants.authConstants.GET_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function saveUserToken(token) {\n    return function (dispatch) {\n      _auth.authService.saveItem(\"token\", token).then(function (token) {\n        console.log(\"saved in memory\");\n      });\n    };\n\n    function saveToken(token) {\n      return {\n        type: _authConstants.authConstants.SAVE_TOKEN,\n        token: token\n      };\n    }\n  }\n\n  function deleteUserToken() {\n    return function (dispatch) {\n      _auth.authService.deleteItem(\"token\").then(function (value) {\n        dispatch(deleteToken());\n      });\n    };\n\n    function deleteToken() {\n      return {\n        type: _authConstants.authConstants.DELETE_TOKEN\n      };\n    }\n  }\n\n  function clearLoginErrors() {\n    return {\n      type: _authConstants.authConstants.CLEAR_LOGIN_ERRORS\n    };\n  }\n});","lineCount":151,"map":[[7,0,1,0],[9,0,2,0],[11,0,3,0],[13,0,4,0],[15,0,6,7],[15,6,6,13,"authActions"],[15,17,6,24],[15,20,6,27],[16,0,7,2,"login"],[16,4,7,2,"login"],[16,9,7,7],[16,11,7,2,"login"],[16,16,6,27],[17,0,8,2,"resetPassword"],[17,4,8,2,"resetPassword"],[17,17,8,15],[17,19,8,2,"resetPassword"],[17,32,6,27],[18,0,9,2,"getUserToken"],[18,4,9,2,"getUserToken"],[18,16,9,14],[18,18,9,2,"getUserToken"],[18,30,6,27],[19,0,10,2,"saveUserToken"],[19,4,10,2,"saveUserToken"],[19,17,10,15],[19,19,10,2,"saveUserToken"],[19,32,6,27],[20,0,11,2,"deleteUserToken"],[20,4,11,2,"deleteUserToken"],[20,19,11,17],[20,21,11,2,"deleteUserToken"],[20,36,6,27],[21,0,12,2,"clearLoginErrors"],[21,4,12,2,"clearLoginErrors"],[21,20,12,18],[21,22,12,2,"clearLoginErrors"],[22,0,6,27],[22,3,6,7],[25,0,17,0],[25,11,17,9,"login"],[25,16,17,0],[25,17,17,15,"username"],[25,25,17,0],[25,27,17,25,"password"],[25,35,17,0],[25,37,17,35],[26,0,18,2],[26,11,18,9],[26,21,18,10,"dispatch"],[26,29,18,9],[26,31,18,23],[27,0,19,4,"dispatch"],[27,6,19,4,"dispatch"],[27,14,19,12],[27,15,19,13,"request"],[27,22,19,20],[27,23,19,21,"username"],[27,31,19,20],[27,32,19,12],[27,33,19,4],[29,0,21,4,"authService"],[29,24,22,7,"login"],[29,29,21,4],[29,30,22,13,"username"],[29,38,21,4],[29,40,22,23,"password"],[29,48,21,4],[29,50,23,7,"then"],[29,54,21,4],[29,55,23,12],[29,65,23,13,"res"],[29,68,23,12],[29,70,23,21],[30,0,25,8],[30,12,25,11,"res"],[30,15,25,14],[30,16,25,15,"status"],[30,22,25,11],[30,26,25,25],[30,29,25,8],[30,31,25,29],[31,0,27,10,"dispatch"],[31,10,27,10,"dispatch"],[31,18,27,18],[31,19,27,19,"success"],[31,26,27,26],[31,27,27,27,"res"],[31,30,27,30],[31,31,27,31,"data"],[31,35,27,27],[31,36,27,36,"token"],[31,41,27,26],[31,42,27,18],[31,43,27,10],[32,0,28,10,"dispatch"],[32,10,28,10,"dispatch"],[32,18,28,18],[32,19,28,19,"saveUserToken"],[32,32,28,32],[32,33,28,33,"res"],[32,36,28,36],[32,37,28,37,"data"],[32,41,28,33],[32,42,28,42,"token"],[32,47,28,32],[32,48,28,18],[32,49,28,10],[33,0,29,9],[33,9,25,8],[33,15,29,14],[34,0,30,10,"dispatch"],[34,10,30,10,"dispatch"],[34,18,30,18],[34,19,30,19,"failure"],[34,26,30,26],[34,27,30,27,"res"],[34,30,30,30],[34,31,30,31,"error"],[34,36,30,26],[34,37,30,18],[34,38,30,10],[35,0,31,9],[36,0,34,7],[36,7,21,4],[37,0,36,3],[37,5,18,2],[39,0,38,2],[39,13,38,11,"request"],[39,20,38,2],[39,21,38,19,"user"],[39,25,38,2],[39,27,38,25],[40,0,39,4],[40,13,39,11],[41,0,39,13,"type"],[41,8,39,13,"type"],[41,12,39,17],[41,14,39,19,"authConstants"],[41,43,39,33,"LOGIN_REQUEST"],[42,0,39,11],[42,7,39,4],[43,0,40,3],[45,0,41,2],[45,13,41,11,"success"],[45,20,41,2],[45,21,41,19,"token"],[45,26,41,2],[45,28,41,26],[46,0,42,4],[46,13,42,11],[47,0,42,13,"type"],[47,8,42,13,"type"],[47,12,42,17],[47,14,42,19,"authConstants"],[47,43,42,33,"LOGIN_SUCCESS"],[47,56,42,11],[48,0,42,48,"token"],[48,8,42,48,"token"],[48,13,42,53],[48,15,42,48,"token"],[49,0,42,11],[49,7,42,4],[50,0,43,3],[52,0,44,2],[52,13,44,11,"failure"],[52,20,44,2],[52,21,44,19,"error"],[52,26,44,2],[52,28,44,26],[53,0,45,4],[53,13,45,11],[54,0,45,13,"type"],[54,8,45,13,"type"],[54,12,45,17],[54,14,45,19,"authConstants"],[54,43,45,33,"LOGIN_FAILURE"],[54,56,45,11],[55,0,45,48,"error"],[55,8,45,48,"error"],[55,13,45,53],[55,15,45,48,"error"],[56,0,45,11],[56,7,45,4],[57,0,46,3],[59,0,47,2],[59,13,47,11,"saveToken"],[59,22,47,2],[59,25,47,23],[60,0,48,4],[60,13,48,11],[61,0,48,13,"type"],[61,8,48,13,"type"],[61,12,48,17],[61,14,48,19,"authConstants"],[61,43,48,33,"SAVE_TOKEN"],[62,0,48,11],[62,7,48,4],[63,0,49,3],[64,0,50,1],[66,0,52,0],[66,11,52,9,"resetPassword"],[66,24,52,0],[66,25,52,23,"email"],[66,30,52,0],[66,32,52,30],[67,0,53,2],[67,11,53,9],[67,21,53,10,"dispatch"],[67,29,53,9],[67,31,53,23],[68,0,54,4,"dispatch"],[68,6,54,4,"dispatch"],[68,14,54,12],[68,15,54,13,"request"],[68,22,54,20],[68,23,54,21,"email"],[68,28,54,20],[68,29,54,12],[68,30,54,4],[70,0,56,4,"authService"],[70,24,57,7,"resetPassword"],[70,37,56,4],[70,38,57,21,"email"],[70,43,56,4],[70,45,58,7,"then"],[70,49,56,4],[70,50,58,12],[70,60,58,13,"res"],[70,63,58,12],[70,65,58,21],[71,0,60,8],[71,12,60,11,"res"],[71,15,60,14],[71,16,60,15,"status"],[71,22,60,11],[71,26,60,25],[71,29,60,8],[71,31,60,29],[72,0,61,10,"console"],[72,10,61,10,"console"],[72,17,61,17],[72,18,61,18,"log"],[72,21,61,10],[72,22,61,22],[72,34,61,10],[73,0,62,10,"dispatch"],[73,10,62,10,"dispatch"],[73,18,62,18],[73,19,62,19,"success"],[73,26,62,26],[73,28,62,18],[73,29,62,10],[74,0,63,9],[74,9,60,8],[74,15,63,14],[75,0,64,10,"console"],[75,10,64,10,"console"],[75,17,64,17],[75,18,64,18,"log"],[75,21,64,10],[75,22,64,22],[75,36,64,10],[76,0,65,10,"dispatch"],[76,10,65,10,"dispatch"],[76,18,65,18],[76,19,65,19,"failure"],[76,26,65,26],[76,28,65,18],[76,29,65,10],[77,0,66,9],[78,0,69,7],[78,7,56,4],[79,0,71,3],[79,5,53,2],[81,0,73,2],[81,13,73,11,"request"],[81,20,73,2],[81,23,73,21],[82,0,74,4],[82,13,74,11],[83,0,74,13,"type"],[83,8,74,13,"type"],[83,12,74,17],[83,14,74,19,"authConstants"],[83,43,74,33,"FORGOTPASSWORD_REQUEST"],[84,0,74,11],[84,7,74,4],[85,0,75,3],[87,0,76,2],[87,13,76,11,"success"],[87,20,76,2],[87,23,76,21],[88,0,77,4],[88,13,77,11],[89,0,77,13,"type"],[89,8,77,13,"type"],[89,12,77,17],[89,14,77,19,"authConstants"],[89,43,77,33,"FORGOTPASSWORD_SUCCESS"],[90,0,77,11],[90,7,77,4],[91,0,78,3],[93,0,79,2],[93,13,79,11,"failure"],[93,20,79,2],[93,21,79,19,"error"],[93,26,79,2],[93,28,79,26],[94,0,80,4],[94,13,80,11],[95,0,80,13,"type"],[95,8,80,13,"type"],[95,12,80,17],[95,14,80,19,"authConstants"],[95,43,80,33,"FORGOTPASSWORD_FAILURE"],[96,0,80,11],[96,7,80,4],[97,0,81,3],[98,0,83,1],[100,0,85,0],[100,11,85,9,"getUserToken"],[100,23,85,0],[100,26,85,24],[101,0,86,2],[101,11,86,9],[101,21,86,10,"dispatch"],[101,29,86,9],[101,31,86,23],[102,0,87,4,"authService"],[102,24,88,7,"getItem"],[102,31,87,4],[102,32,88,15],[102,39,87,4],[102,41,89,7,"then"],[102,45,87,4],[102,46,89,12],[102,56,89,13,"value"],[102,61,89,12],[102,63,89,23],[103,0,90,8,"dispatch"],[103,8,90,8,"dispatch"],[103,16,90,16],[103,17,90,17,"getToken"],[103,25,90,25],[103,26,90,26,"value"],[103,31,90,25],[103,32,90,16],[103,33,90,8],[104,0,91,7],[104,7,87,4],[104,9,92,7,"catch"],[104,14,87,4],[104,15,92,13],[104,25,92,14,"err"],[104,28,92,13],[104,30,92,22],[105,0,93,8,"console"],[105,8,93,8,"console"],[105,15,93,15],[105,16,93,16,"log"],[105,19,93,8],[105,20,93,20,"err"],[105,23,93,8],[106,0,94,7],[106,7,87,4],[107,0,95,3],[107,5,86,2],[109,0,97,2],[109,13,97,11,"getToken"],[109,21,97,2],[109,22,97,20,"token"],[109,27,97,2],[109,29,97,27],[110,0,98,4],[110,13,98,11],[111,0,98,13,"type"],[111,8,98,13,"type"],[111,12,98,17],[111,14,98,19,"authConstants"],[111,43,98,33,"GET_TOKEN"],[111,52,98,11],[112,0,98,44,"token"],[112,8,98,44,"token"],[112,13,98,49],[112,15,98,44,"token"],[113,0,98,11],[113,7,98,4],[114,0,99,3],[115,0,100,1],[117,0,102,0],[117,11,102,9,"saveUserToken"],[117,24,102,0],[117,25,102,23,"token"],[117,30,102,0],[117,32,102,30],[118,0,103,2],[118,11,103,9],[118,21,103,10,"dispatch"],[118,29,103,9],[118,31,103,23],[119,0,104,4,"authService"],[119,24,104,16,"saveItem"],[119,32,104,4],[119,33,104,25],[119,40,104,4],[119,42,104,34,"token"],[119,47,104,4],[119,49,104,41,"then"],[119,53,104,4],[119,54,104,46],[119,64,104,47,"token"],[119,69,104,46],[119,71,104,57],[120,0,105,5,"console"],[120,8,105,5,"console"],[120,15,105,12],[120,16,105,13,"log"],[120,19,105,5],[120,20,105,17],[120,37,105,5],[121,0,106,5],[121,7,104,4],[122,0,107,3],[122,5,103,2],[124,0,109,2],[124,13,109,11,"saveToken"],[124,22,109,2],[124,23,109,21,"token"],[124,28,109,2],[124,30,109,28],[125,0,110,4],[125,13,110,11],[126,0,110,13,"type"],[126,8,110,13,"type"],[126,12,110,17],[126,14,110,19,"authConstants"],[126,43,110,33,"SAVE_TOKEN"],[126,53,110,11],[127,0,110,45,"token"],[127,8,110,45,"token"],[127,13,110,50],[127,15,110,45,"token"],[128,0,110,11],[128,7,110,4],[129,0,111,3],[130,0,112,1],[132,0,116,0],[132,11,116,9,"deleteUserToken"],[132,26,116,0],[132,29,116,27],[133,0,117,2],[133,11,117,9],[133,21,117,10,"dispatch"],[133,29,117,9],[133,31,117,23],[134,0,118,4,"authService"],[134,24,118,16,"deleteItem"],[134,34,118,4],[134,35,118,27],[134,42,118,4],[134,44,118,36,"then"],[134,48,118,4],[134,49,118,41],[134,59,118,42,"value"],[134,64,118,41],[134,66,118,52],[135,0,119,6,"dispatch"],[135,8,119,6,"dispatch"],[135,16,119,14],[135,17,119,15,"deleteToken"],[135,28,119,26],[135,30,119,14],[135,31,119,6],[136,0,120,5],[136,7,118,4],[137,0,121,3],[137,5,117,2],[139,0,123,2],[139,13,123,11,"deleteToken"],[139,24,123,2],[139,27,123,25],[140,0,124,4],[140,13,124,11],[141,0,124,13,"type"],[141,8,124,13,"type"],[141,12,124,17],[141,14,124,19,"authConstants"],[141,43,124,33,"DELETE_TOKEN"],[142,0,124,11],[142,7,124,4],[143,0,125,3],[144,0,126,1],[146,0,128,0],[146,11,128,9,"clearLoginErrors"],[146,27,128,0],[146,30,128,28],[147,0,129,2],[147,11,129,9],[148,0,130,4,"type"],[148,6,130,4,"type"],[148,10,130,8],[148,12,130,10,"authConstants"],[148,41,130,24,"CLEAR_LOGIN_ERRORS"],[149,0,129,9],[149,5,129,2],[150,0,132,1]],"functionMap":{"names":["<global>","login","<anonymous>","authService.login.then$argument_0","request","success","failure","saveToken","resetPassword","authService.resetPassword.then$argument_0","getUserToken","authService.getItem.then$argument_0","authService.getItem.then._catch$argument_0","getToken","saveUserToken","authService.saveItem.then$argument_0","deleteUserToken","authService.deleteItem.then$argument_0","deleteToken","clearLoginErrors"],"mappings":"AAA;ACgB;SCC;YCK;ODW;GDE;EGE;GHE;EIC;GJE;EKC;GLE;EMC;GNE;CDC;AQE;SNC;YOK;OPW;GME;EJE;GIE;EHC;GGE;EFC;GEE;CRE;AUE;SRC;YSG;OTE;aUC;OVE;GQC;EGE;GHE;CVC;AcE;SZC;8CaC;KbE;GYC;EPE;GOE;CdC;AgBI;SdC;yCeC;KfE;GcC;EEE;GFE;ChBC;AmBE;CnBI"}},"type":"js/module"}]}