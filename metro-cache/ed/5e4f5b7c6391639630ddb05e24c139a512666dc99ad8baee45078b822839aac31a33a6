{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"./NavigationBuilderContext","data":{"isAsync":false}},{"name":"./NavigationRouteContext","data":{"isAsync":false}},{"name":"./isArrayEqual","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireWildcard = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireWildcard\");\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = useOnGetState;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/defineProperty\"));\n\n  var React = _interopRequireWildcard(_$$_REQUIRE(_dependencyMap[3], \"react\"));\n\n  var _NavigationBuilderContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./NavigationBuilderContext\"));\n\n  var _NavigationRouteContext = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[5], \"./NavigationRouteContext\"));\n\n  var _isArrayEqual = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[6], \"./isArrayEqual\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  function useOnGetState(_ref) {\n    var getStateForRoute = _ref.getStateForRoute,\n        getState = _ref.getState;\n\n    var _React$useContext = React.useContext(_NavigationBuilderContext.default),\n        addStateGetter = _React$useContext.addStateGetter;\n\n    var route = React.useContext(_NavigationRouteContext.default);\n    var key = route ? route.key : 'root';\n    var getRehydratedState = React.useCallback(function () {\n      var state = getState();\n      var routes = state.routes.map(function (route) {\n        var childState = getStateForRoute(route.key);\n\n        if (route.state === childState) {\n          return route;\n        }\n\n        return _objectSpread(_objectSpread({}, route), {}, {\n          state: childState\n        });\n      });\n\n      if ((0, _isArrayEqual.default)(state.routes, routes)) {\n        return state;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        routes: routes\n      });\n    }, [getState, getStateForRoute]);\n    React.useEffect(function () {\n      return addStateGetter == null ? void 0 : addStateGetter(key, getRehydratedState);\n    }, [addStateGetter, getRehydratedState, key]);\n  }\n});","lineCount":60,"map":[[13,0,1,0],[15,0,3,0],[17,0,4,0],[19,0,5,0],[25,0,7,15],[25,11,7,24,"useOnGetState"],[25,24,7,15],[25,31,13,3],[26,0,13,3],[26,8,8,2,"getStateForRoute"],[26,24,13,3],[26,32,8,2,"getStateForRoute"],[26,48,13,3],[27,0,13,3],[27,8,9,2,"getState"],[27,16,13,3],[27,24,9,2,"getState"],[27,32,13,3],[29,0,13,3],[29,28,14,29,"React"],[29,33,14,34],[29,34,14,35,"useContext"],[29,44,14,29],[29,45,14,46,"NavigationBuilderContext"],[29,78,14,29],[29,79,13,3],[30,0,13,3],[30,8,14,10,"addStateGetter"],[30,22,13,3],[30,43,14,10,"addStateGetter"],[30,57,13,3],[32,0,15,2],[32,8,15,8,"route"],[32,13,15,13],[32,16,15,16,"React"],[32,21,15,21],[32,22,15,22,"useContext"],[32,32,15,16],[32,33,15,33,"NavigationRouteContext"],[32,64,15,16],[32,65,15,2],[33,0,16,2],[33,8,16,8,"key"],[33,11,16,11],[33,14,16,14,"route"],[33,19,16,19],[33,22,16,22,"route"],[33,27,16,27],[33,28,16,28,"key"],[33,31,16,19],[33,34,16,34],[33,40,16,2],[34,0,18,2],[34,8,18,8,"getRehydratedState"],[34,26,18,26],[34,29,18,29,"React"],[34,34,18,34],[34,35,18,35,"useCallback"],[34,46,18,29],[34,47,18,47],[34,59,18,53],[35,0,19,4],[35,10,19,10,"state"],[35,15,19,15],[35,18,19,18,"getState"],[35,26,19,26],[35,28,19,4],[36,0,22,4],[36,10,22,10,"routes"],[36,16,22,16],[36,19,22,19,"state"],[36,24,22,24],[36,25,22,25,"routes"],[36,31,22,19],[36,32,22,32,"map"],[36,35,22,19],[36,36,22,36],[36,46,22,37,"route"],[36,51,22,36],[36,53,22,47],[37,0,23,6],[37,12,23,12,"childState"],[37,22,23,22],[37,25,23,25,"getStateForRoute"],[37,41,23,41],[37,42,23,42,"route"],[37,47,23,47],[37,48,23,48,"key"],[37,51,23,41],[37,52,23,6],[39,0,25,6],[39,12,25,10,"route"],[39,17,25,15],[39,18,25,16,"state"],[39,23,25,10],[39,28,25,26,"childState"],[39,38,25,6],[39,40,25,38],[40,0,26,8],[40,17,26,15,"route"],[40,22,26,8],[41,0,27,7],[43,0,29,6],[43,47,29,18,"route"],[43,52,29,6],[44,0,29,25,"state"],[44,10,29,25,"state"],[44,15,29,30],[44,17,29,32,"childState"],[45,0,29,6],[46,0,30,5],[46,7,22,19],[46,8,22,4],[48,0,32,4],[48,10,32,8],[48,37,32,21,"state"],[48,42,32,26],[48,43,32,27,"routes"],[48,49,32,8],[48,51,32,35,"routes"],[48,57,32,8],[48,58,32,4],[48,60,32,44],[49,0,33,6],[49,15,33,13,"state"],[49,20,33,6],[50,0,34,5],[52,0,36,4],[52,45,36,16,"state"],[52,50,36,4],[53,0,36,23,"routes"],[53,8,36,23,"routes"],[53,14,36,29],[53,16,36,23,"routes"],[54,0,36,4],[55,0,37,3],[55,5,18,29],[55,7,37,5],[55,8,37,6,"getState"],[55,16,37,5],[55,18,37,16,"getStateForRoute"],[55,34,37,5],[55,35,18,29],[55,36,18,2],[56,0,39,2,"React"],[56,4,39,2,"React"],[56,9,39,7],[56,10,39,8,"useEffect"],[56,19,39,2],[56,20,39,18],[56,32,39,24],[57,0,40,4],[57,13,40,11,"addStateGetter"],[57,27,40,4],[57,47,40,11,"addStateGetter"],[57,61,40,25],[57,62,40,28,"key"],[57,65,40,25],[57,67,40,33,"getRehydratedState"],[57,85,40,25],[57,86,40,4],[58,0,41,3],[58,5,39,2],[58,7,41,5],[58,8,41,6,"addStateGetter"],[58,22,41,5],[58,24,41,22,"getRehydratedState"],[58,42,41,5],[58,44,41,42,"key"],[58,47,41,5],[58,48,39,2],[59,0,42,1]],"functionMap":{"names":["<global>","useOnGetState","React.useCallback$argument_0","state.routes.map$argument_0","React.useEffect$argument_0"],"mappings":"AAA;eCM;+CCW;oCCI;KDQ;GDO;kBGE;GHE;CDC"}},"type":"js/module"}]}